(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1372"],{"1c8T":function(e,t,n){},"9GgJ":function(e,t,n){"use strict";var i={name:"XrHeader",components:{},props:{iconClass:[String,Array],iconColor:String,label:String,showSearch:{type:Boolean,default:!1},searchIconType:{type:String,default:"text"},placeholder:{type:String,default:"请输入内容"},ftTop:{type:String,default:"15px"},content:[String,Number],inputAttr:{type:Object,default:function(){}}},data:function(){return{search:""}},computed:{},watch:{content:{handler:function(){this.search!=this.content&&(this.search=this.content)},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{inputChange:function(){this.$emit("update:content",this.search)},searchClick:function(){this.$emit("search",this.search)}}},a=(n("zIzm"),n("KHd+")),s=Object(a.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("flexbox",{staticClass:"xr-header"},[e.iconClass?n("div",{staticClass:"xr-header__icon",style:{backgroundColor:e.iconColor}},[n("i",{class:e.iconClass})]):e._e(),e._v(" "),n("div",{staticClass:"xr-header__label"},[e.$slots.label?e._t("label"):[e._v(e._s(e.label))]],2),e._v(" "),e.showSearch?n("el-input",e._b({staticClass:"xr-header__search",class:{"is-text":"text"===e.searchIconType},style:{"margin-top":e.ftTop},attrs:{placeholder:e.placeholder},on:{input:e.inputChange},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchClick(t):null}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},"el-input",e.inputAttr,!1),["text"===e.searchIconType?n("el-button",{attrs:{slot:"append",type:"primary"},nativeOn:{click:function(t){return e.searchClick(t)}},slot:"append"},[e._v("搜索")]):n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(t){return e.searchClick(t)}},slot:"append"})],1):e._e(),e._v(" "),n("div",{staticClass:"xr-header__ft",style:{top:e.ftTop}},[e._t("ft")],2)],1)},[],!1,null,"7bba770c",null);s.options.__file="index.vue";t.a=s.exports},ExlE:function(e,t,n){"use strict";var i=n("1c8T");n.n(i).a},ImpB:function(e,t,n){"use strict";n.r(t);var i=n("zMw6"),a=n("7Qib"),s={name:"AchievementSet",components:{},props:{id:[String,Number]},data:function(){return{loading:!1,tableName:"",form:{}}},watch:{id:{handler:function(e){e&&this.getDetail()},immediate:!0}},created:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(i.f)(this.id).then(function(t){var n=t.data||{};e.tableName=n.tableName,n.fixedSegList||(n.fixedSegList=[]),n.noFixedSegList||(n.noFixedSegList=[]),n.isOpenFix=n.fixedSegList&&n.fixedSegList.length>0?1:0,e.form=n,e.loading=!1}).catch(function(){e.loading=!1})},getWeightRules:function(e){return{validator:function(t,n,i){e&&1==e.isEmpWeight?i():n<0||n>100||null===n||void 0===n||""===n?i(new Error("范围在0-100之间")):i()},trigger:"change",form:e}},weightSwithChange:function(e){var t=this;if(1==e){var n=this.form.noFixedSegList[0];n.weight="",this.form.noFixedSegList=[n]}this.$nextTick(function(){t.$refs.form.validateField("noFixedSegList[0].weight")})},fixSwithChange:function(e){e?this.bigAddClick(this.form.fixedSegList):this.form.fixedSegList=[]},bigAddClick:function(e){e.push({segName:"",weight:"",items:[{itemName:""},{itemName:""},{itemName:""}]})},subAddClick:function(e){e.push({itemName:""})},itemDeleteClick:function(e,t){e.splice(t,1)},save:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var n=0;0==e.form.isEmpWeight&&e.form.noFixedSegList.forEach(function(e){n=Object(a.i)(n,e.weight)}),1==e.form.isOpenFix&&e.form.fixedSegList.forEach(function(e){n=Object(a.i)(n,e.weight)}),0==e.form.isEmpWeight&&100!=n?e.$message.error("考核项权重累加，需等于100%"):1==e.form.isEmpWeight&&1==e.form.isEmpWeight&&n>=100?e.$message.error("固定模板考核项权重累加，需小于100%"):e.submiteData()})},submiteData:function(){var e=this,t=Object(a.w)(this.form);delete t.isOpenFix,this.loading=!0,Object(i.o)(t).then(function(t){e.$message.success("保存成功"),e.$emit("change",t.data||{}),e.loading=!1}).catch(function(){e.loading=!1})}}},r=(n("uBzd"),n("KHd+")),o=Object(r.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("div",{staticClass:"content-title"},[n("span",[e._v(e._s(e.tableName))]),e._v(" "),n("el-button",{staticClass:"rt",attrs:{type:"primary",size:"medium"},on:{click:e.save}},[e._v("保存")])],1),e._v(" "),n("div",{staticClass:"content-body"},[n("el-form",{ref:"form",attrs:{model:e.form,"validate-on-rule-change":!1,"hide-required-asterisk":""}},[n("div",{staticClass:"section"},[n("div",{staticClass:"section__title"},[e._v("\n          非固定模板"),n("span",[e._v("（由管理员统一设置模板标题，员工自行填写内容，也可增加考核项）")])]),e._v(" "),n("div",{staticClass:"section__row"},[n("span",[e._v("员工填写权重占比")]),e._v(" "),n("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:e.weightSwithChange},model:{value:e.form.isEmpWeight,callback:function(t){e.$set(e.form,"isEmpWeight",t)},expression:"form.isEmpWeight"}})],1),e._v(" "),e._l(e.form.noFixedSegList,function(t,i){return n("div",{key:i,staticClass:"item-section"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"noFixedSegList["+i+"].segName",rules:{required:!0,message:"请输入",trigger:"change"},label:""}},[n("el-input",{attrs:{placeholder:"请输入标题",type:"text"},model:{value:t.segName,callback:function(n){e.$set(t,"segName",n)},expression:"fixItem.segName"}},[n("template",{slot:"append"},[e._v("具体内容由员工填写")])],2)],1)],1),e._v(" "),n("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{prop:"noFixedSegList["+i+"].weight",rules:e.getWeightRules(e.form),label:""}},[n("el-input",{directives:[{name:"wk-number",rawName:"v-wk-number"}],attrs:{disabled:1==e.form.isEmpWeight,placeholder:1==e.form.isEmpWeight?"员工填写权限占比":"请输入权重信息",type:"text"},model:{value:t.weight,callback:function(n){e.$set(t,"weight",n)},expression:"fixItem.weight"}},[n("template",{slot:"prepend"},[e._v("权重")])],2)],1)],1),e._v(" "),n("el-col",{staticClass:"is-close",attrs:{span:1}},[1==e.form.isEmpWeight&&e.form.noFixedSegList.length>1?n("i",{staticClass:"el-icon-close",on:{click:function(t){e.itemDeleteClick(e.form.noFixedSegList,i)}}}):e._e()])],1),e._v(" "),n("div",[e._l(t.items,function(a,s){return n("el-row",{key:s},[n("el-col",{attrs:{span:12}},[n("el-form-item",{staticStyle:{"padding-left":"140px"},attrs:{prop:"noFixedSegList["+i+"].items["+s+"].itemName",rules:{required:!0,message:"请输入",trigger:"change"},label:""}},[n("el-input",{staticClass:"sub-input",attrs:{placeholder:"请输入标题名称",type:"text"},model:{value:a.itemName,callback:function(t){e.$set(a,"itemName",t)},expression:"item.itemName"}},[n("template",{slot:"append"},[e._v("具体内容由员工填写")])],2)],1)],1),e._v(" "),n("el-col",{staticClass:"is-close",attrs:{span:1}},[n("i",{staticClass:"el-icon-close",on:{click:function(n){e.itemDeleteClick(t.items,s)}}})])],1)}),e._v(" "),n("el-button",{staticStyle:{padding:"0 0 8px 140px"},attrs:{icon:"el-icon-plus",type:"text"},on:{click:function(n){e.subAddClick(t.items)}}},[e._v("添加")])],2)],1)}),e._v(" "),0==e.form.isEmpWeight?n("el-button",{attrs:{icon:"el-icon-plus",type:"text"},on:{click:function(t){e.bigAddClick(e.form.noFixedSegList)}}},[e._v("添加考核项")]):e._e()],2),e._v(" "),n("div",{staticClass:"section"},[n("div",{staticClass:"section__title"},[e._v("\n          固定模板"),n("span",[e._v("（由管理员统一设置考核内容，员工无法修改内容，也无法增加考核项）")]),n("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:e.fixSwithChange},model:{value:e.form.isOpenFix,callback:function(t){e.$set(e.form,"isOpenFix",t)},expression:"form.isOpenFix"}})],1),e._v(" "),e._l(e.form.fixedSegList,function(t,i){return n("div",{key:i,staticClass:"item-section"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"fixedSegList["+i+"].segName",rules:{required:!0,message:"请输入",trigger:"change"},label:""}},[n("el-input",{attrs:{placeholder:"价值观考核",type:"text"},model:{value:t.segName,callback:function(n){e.$set(t,"segName",n)},expression:"fixItem.segName"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{prop:"fixedSegList["+i+"].weight",rules:e.getWeightRules(),label:""}},[n("el-input",{directives:[{name:"wk-number",rawName:"v-wk-number"}],attrs:{placeholder:"请输入权重信息",type:"text"},model:{value:t.weight,callback:function(n){e.$set(t,"weight",n)},expression:"fixItem.weight"}},[n("template",{slot:"prepend"},[e._v("权重")])],2)],1)],1),e._v(" "),n("el-col",{staticClass:"is-close",attrs:{span:1}},[e.form.fixedSegList.length>1?n("i",{staticClass:"el-icon-close",on:{click:function(t){e.itemDeleteClick(e.form.fixedSegList,i)}}}):e._e()])],1),e._v(" "),n("div",[e._l(t.items,function(a,s){return n("el-row",{key:s},[n("el-col",{attrs:{span:12}},[n("el-form-item",{staticStyle:{"padding-left":"140px"},attrs:{prop:"fixedSegList["+i+"].items["+s+"].itemName",rules:{required:!0,message:"请输入",trigger:"change"},label:""}},[n("el-input",{staticClass:"sub-input",attrs:{placeholder:"请设置具体考核内容",type:"text"},model:{value:a.itemName,callback:function(t){e.$set(a,"itemName",t)},expression:"item.itemName"}})],1)],1),e._v(" "),n("el-col",{staticClass:"is-close",attrs:{span:1}},[n("i",{staticClass:"el-icon-close",on:{click:function(n){e.itemDeleteClick(t.items,s)}}})])],1)}),e._v(" "),n("el-button",{staticStyle:{padding:"0 0 8px 140px"},attrs:{icon:"el-icon-plus",type:"text"},on:{click:function(n){e.subAddClick(t.items)}}},[e._v("添加")])],2)],1)}),e._v(" "),n("el-button",{attrs:{icon:"el-icon-plus",type:"text"},on:{click:function(t){e.bigAddClick(e.form.fixedSegList)}}},[e._v("添加考核项")])],2),e._v(" "),n("div",{staticClass:"section"},[n("div",{staticClass:"section__title"},[e._v("考核说明")]),e._v(" "),n("el-form-item",{attrs:{rules:{required:!0,message:"请输入",trigger:"change"},prop:"description",label:""}},[n("el-input",{attrs:{autosize:{minRows:5},maxlength:800,resize:"none",type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)])],1)])},[],!1,null,"531193b0",null);o.options.__file="AchievementSet.vue";var c={name:"AchievementMain",components:{AchievementSet:o.exports,XrHeader:n("9GgJ").a},data:function(){return{menuList:[],menuIndex:""}},computed:{},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(i.g)().then(function(t){e.loading=!1,e.menuList=t.data||[],e.menuList.length&&(e.menuIndex=e.menuList[0].tableId)}).catch(function(){e.loading=!1})},menuSelect:function(e){this.menuIndex=e},achievementSetChange:function(e){for(var t=-1,n=0;n<this.menuList.length;n++){if(this.menuList[n].tableId==this.menuIndex){t=n;break}}t>=0&&(this.menuList.splice(t,1,e),this.menuIndex=e.tableId)}}},l=(n("ExlE"),Object(r.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"achivement-set"},[n("xr-header",{attrs:{"icon-class":"wk wk-s-seas","icon-color":"#487DFF",label:"考核模板设置"}}),e._v(" "),n("div",{staticClass:"achivement-content"},[n("div",{staticClass:"system-view-nav"},[n("div",{staticClass:"nav-title"},[e._v("模板类型")]),e._v(" "),e._l(e.menuList,function(t,i){return n("div",{key:i,staticClass:"menu-item",class:{"is-select":t.tableId==e.menuIndex},on:{click:function(n){e.menuSelect(t.tableId)}}},[e._v("\n        "+e._s(t.tableName)+"\n      ")])})],2),e._v(" "),n("keep-alive",[n("achievement-set",{staticClass:"system-view-content",attrs:{id:e.menuIndex},on:{change:e.achievementSetChange}})],1)],1)],1)},[],!1,null,"4865ba0f",null));l.options.__file="index.vue";t.default=l.exports},ihDC:function(e,t,n){},imvL:function(e,t,n){},uBzd:function(e,t,n){"use strict";var i=n("imvL");n.n(i).a},zIzm:function(e,t,n){"use strict";var i=n("ihDC");n.n(i).a},zMw6:function(e,t,n){"use strict";n.d(t,"j",function(){return a}),n.d(t,"m",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"i",function(){return o}),n.d(t,"h",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"k",function(){return u}),n.d(t,"n",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return p}),n.d(t,"o",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return b}),n.d(t,"u",function(){return x}),n.d(t,"w",function(){return C}),n.d(t,"x",function(){return y}),n.d(t,"v",function(){return _}),n.d(t,"A",function(){return S}),n.d(t,"B",function(){return k}),n.d(t,"y",function(){return j}),n.d(t,"z",function(){return w}),n.d(t,"p",function(){return O}),n.d(t,"q",function(){return F}),n.d(t,"r",function(){return L}),n.d(t,"s",function(){return T}),n.d(t,"t",function(){return E});var i=n("t3Un");function a(e){return Object(i.a)({url:"hrmConfig/queryRecruitChannelList",method:"post",data:e})}function s(e){return Object(i.a)({url:"hrmConfig/saveRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i.a)({url:"hrmConfig/deleteRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i.a)({url:"hrmConfig/queryFields",method:"post",data:e})}function c(e){return Object(i.a)({url:"hrmConfig/queryFieldByLabel/"+e,method:"post"})}function l(e){return Object(i.a)({url:"hrmConfig/saveField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i.a)({url:"hrmConfig/queryRecruitEliminateList",method:"post",data:e})}function d(e){return Object(i.a)({url:"hrmConfig/saveRecruitEliminate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(i.a)({url:"hrmConfig/queryAchievementTableList",method:"post",data:e})}function p(e){return Object(i.a)({url:"hrmConfig/queryAchievementTableById/"+e,method:"post"})}function h(e){return Object(i.a)({url:"hrmConfig/setAchievementTable",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i.a)({url:"hrmConfig/queryInsuranceSchemePageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(i.a)({url:"hrmConfig/queryInsuranceSchemeById/"+e,method:"post"})}function v(e){return Object(i.a)({url:"hrmConfig/addInsuranceScheme",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(i.a)({url:"hrmConfig/deleteInsuranceScheme/"+e,method:"post"})}function x(e){return Object(i.a)({url:"hrmSalaryGroup/addSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function C(e){return Object(i.a)({url:"hrmSalaryGroup/querySalaryGroupPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(i.a)({url:"hrmSalaryGroup/setSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function _(e){return Object(i.a)({url:"hrmSalaryGroup/delete/"+e,method:"post"})}function S(e){return Object(i.a)({url:"hrmSalaryTaxRule/queryTaxRuleList",method:"post",data:e})}function k(e){return Object(i.a)({url:"hrmSalaryTaxRule/setTaxRule",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function j(e){return Object(i.a)({url:"hrmSalaryOption/querySalaryOptionDetail",method:"post",data:e})}function w(e){return Object(i.a)({url:"hrmSalaryOption/setSalaryOption",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function O(){return Object(i.a)({url:"hrmEmployeeArchives/queryEmployeeArchivesField",method:"post"})}function F(e){return Object(i.a)({url:"hrmEmployeeArchives/sendWriteArchives",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(i.a)({url:"hrmEmployeeArchives/setEmployeeArchivesField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function T(e){return Object(i.a)({url:"hrmEmployeeFieldManage/queryEmployeeManageField",method:"post",data:e})}function E(e){return Object(i.a)({url:"hrmEmployeeFieldManage/setEmployeeManageField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}}}]);