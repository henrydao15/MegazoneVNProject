(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0977"],{"+VoU":function(e,t,a){},"/alq":function(e,t,a){},"1QPM":function(e,t,a){},"1aBo":function(e,t,a){},"1xWU":function(e,t,a){},"2pLh":function(e,t,a){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function i(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<a;t++)for(var o=arguments[t],s=0,r=o.length;s<r;s++,n++)i[n]=o[s];return i}function n(e,t){return void 0===t&&(t=15),+parseFloat(Number(e).toPrecision(t))}function o(e){var t=e.toString().split(/[eE]/),a=(t[0].split(".")[1]||"").length-+(t[1]||0);return a>0?a:0}function s(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));var t=o(e);return t>0?n(Number(e)*Math.pow(10,t)):Number(e)}function r(e){d&&(e>Number.MAX_SAFE_INTEGER||Number.MIN_SAFE_INTEGER)}function l(e,t){for(var a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];if(a.length>0)return l.apply(void 0,i([l(e,t),a[0]],a.slice(1)));var c=s(e),d=s(t),u=o(e)+o(t),f=c*d;return r(f),f/Math.pow(10,u)}function c(e,t){for(var a=[],d=2;d<arguments.length;d++)a[d-2]=arguments[d];if(a.length>0)return c.apply(void 0,i([c(e,t),a[0]],a.slice(1)));var u=s(e),f=s(t);return r(u),r(f),l(u/f,n(Math.pow(10,o(t)-o(e))))}var d=!0;var u={strip:n,plus:function e(t,a){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];if(n.length>0)return e.apply(void 0,i([e(t,a),n[0]],n.slice(1)));var r=Math.pow(10,Math.max(o(t),o(a)));return(l(t,r)+l(a,r))/r},minus:function e(t,a){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];if(n.length>0)return e.apply(void 0,i([e(t,a),n[0]],n.slice(1)));var r=Math.pow(10,Math.max(o(t),o(a)));return(l(t,r)-l(a,r))/r},times:l,divide:c,round:function(e,t){var a=Math.pow(10,t);return c(Math.round(l(e,a)),a)},digitLength:o,float2Fixed:s,enableBoundaryChecking:function(e){void 0===e&&(e=!0),d=e}};t.a=u},"2tLO":function(e,t,a){"use strict";var i=a("gzXM");a.n(i).a},"6fkd":function(e,t,a){"use strict";var i=a("Y5Xo");a.n(i).a},"8JBq":function(e,t,a){"use strict";var i=a("FaXT");a.n(i).a},"97R0":function(e,t,a){"use strict";var i=a("wRyu");a.n(i).a},"A/aH":function(e,t,a){},AHMD:function(e,t,a){},AhSd:function(e,t,a){"use strict";var i=a("uqt8");a.n(i).a},"BI/5":function(e,t,a){},C8Jz:function(e,t,a){},Cbi2:function(e,t,a){"use strict";var i=a("VNy6");a.n(i).a},DGFN:function(e,t,a){},DQ65:function(e,t,a){},Dpm0:function(e,t,a){"use strict";var i=a("c1z1");a.n(i).a},E1Ow:function(e,t,a){"use strict";var i=a("BI/5");a.n(i).a},ESNz:function(e,t,a){"use strict";var i=a("PjFO");a.n(i).a},EYLx:function(e,t,a){"use strict";var i=a("h8CF");a.n(i).a},Ed9r:function(e,t,a){},EdyN:function(e,t,a){},El9w:function(e,t,a){"use strict";var i=a("dukW");a.n(i).a},FaXT:function(e,t,a){},HCv8:function(e,t,a){},ILsY:function(e,t,a){"use strict";var i=a("Vz7l");a.n(i).a},IVrs:function(e,t,a){"use strict";var i=a("DGFN");a.n(i).a},IZp0:function(e,t,a){},O50V:function(e,t,a){"use strict";var i=a("oxGU");a.n(i).a},OQ7T:function(e,t,a){},Olql:function(e,t,a){"use strict";var i=a("HCv8");a.n(i).a},P5Fn:function(e,t,a){"use strict";var i=a("StgO"),n=a("oF75"),o=a("Gqw/"),s=a("gVZb"),r=a("UGe0"),l=a("EP+0"),c=a("bxH2"),d=a("7Qib"),u=a("BzB7"),f={name:"CandidateCreateView",components:{XrCreate:s.a,CreateSections:l.a,WkForm:r.a},filters:{},mixins:[u.a],props:{detail:Object},data:function(){return{loading:!1,baseFields:c.a.fields,baseRules:{},baseForm:{},channelList:[],postList:[]}},computed:{titleContent:function(){return this.detail?"编辑候选人":"新建候选人"}},watch:{},created:function(){var e=this;this.getChannelList(),this.getPostList();var t={};if(c.a.fields.forEach(function(a){t[a.field]=e.getRules(a)}),this.baseRules=t,this.detail){var a=Object(d.w)(this.detail),i={};this.baseFields.forEach(function(e){"postId"==e.field&&0==a.postStatus&&(a.postId=""),i[e.field]=a[e.field]}),this.baseForm=i}else this.baseForm={sex:1}},mounted:function(){},beforeDestroy:function(){},methods:{getChannelList:function(){var e=this;Object(o.f)().then(function(t){var a=t.data||[];a.forEach(function(e){1==e.status&&(e.label=e.value,e.value=e.channelId)}),e.channelList=a}).catch(function(){})},getPostList:function(){var e=this;Object(n.b)().then(function(t){e.postList=t.data||[]}).catch(function(){})},close:function(){this.$emit("close")},saveClick:function(){var e=this;this.$refs.baseForm.$children[0].validate(function(t){t&&e.uploadCreateData()})},uploadCreateData:function(){var e=this,t=Object(d.w)(this.baseForm);this.detail&&(t.candidateId=this.detail.candidateId),this.loading=!0,(this.detail?i.i:i.a)(t).then(function(t){e.$emit("close"),e.$message.success(e.titleContent+"成功"),e.$emit("success"),e.loading=!1}).catch(function(){e.loading=!1})},postSetClick:function(){this.$router.push({name:"hrmPost"})}}},m=(a("w9wx"),a("KHd+")),h=Object(m.a)(f,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("xr-create",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:e.titleContent},on:{close:e.close,save:e.saveClick}},[a("create-sections",{attrs:{title:"基本信息"}},[a("wk-form",{ref:"baseForm",attrs:{model:e.baseForm,rules:e.baseRules,"field-from":e.baseForm,"field-list":e.baseFields,"label-position":"top"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.data;return[i&&"post"==i.formType?a("el-select",{staticStyle:{width:"100%"},model:{value:e.baseForm[i.field],callback:function(t){e.$set(e.baseForm,i.field,t)},expression:"baseForm[data.field]"}},[e._l(e.postList,function(t,i){return a("el-option",{key:i,attrs:{label:t.postName,value:t.postId}},[e._v("\n            "+e._s(t.postName)),a("span",{staticStyle:{color:"#999"}},[e._v(e._s(t.deptName?"("+t.deptName+")":""))])])}),e._v(" "),a("div",{staticClass:"empty",attrs:{slot:"empty"},slot:"empty"},[a("span",[e._v("暂无可选职位。")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.postSetClick}},[e._v("前去设置")])],1)],2):e._e(),e._v(" "),i&&"channel"==i.formType?a("el-select",{staticStyle:{width:"100%"},model:{value:e.baseForm[i.field],callback:function(t){e.$set(e.baseForm,i.field,t)},expression:"baseForm[data.field]"}},e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})):e._e()]}}])})],1)],1)},[],!1,null,"0e7de234",null);h.options.__file="Create.vue";t.a=h.exports},PIiL:function(e,t,a){},PjFO:function(e,t,a){},Pqxw:function(e,t,a){e.exports={xrColorPrimary:"#2362FB"}},PwLV:function(e,t,a){"use strict";var i={name:"WkFileSelect",components:{},props:{name:{type:String,default:"file"},disabled:Boolean,multiple:Boolean,accept:{type:String,default:"*.*"}},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{handleChange:function(e){var t=e.target.files;t&&this.$emit("change",t,e)},handleClick:function(){var e=this;this.disabled||this.$wkFile.select({name:this.name,multiple:this.multiple,accept:this.accept}).then(function(t){e.handleChange(t)})}}},n=(a("El9w"),a("KHd+")),o=Object(n.a)(i,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"wk-file-select",on:{click:this.handleClick}},[this._t("default")],2)},[],!1,null,"b95eaae0",null);o.options.__file="index.vue";t.a=o.exports},Qehy:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return s}),a.d(t,"f",function(){return r}),a.d(t,"g",function(){return l}),a.d(t,"h",function(){return c}),a.d(t,"e",function(){return d}),a.d(t,"d",function(){return u});var i=a("t3Un");function n(e){return Object(i.a)({url:"hrmEmployee/SocialSecurity/salarySocialSecurityInformation/"+e,method:"post"})}function o(e){return Object(i.a)({url:"hrmEmployee/SocialSecurity/addSalaryCard",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(i.a)({url:"hrmEmployee/SocialSecurity/addSocialSecurity",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i.a)({url:"hrmEmployee/SocialSecurity/setSalaryCard",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i.a)({url:"hrmEmployee/SocialSecurity/setSocialSecurity",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i.a)({url:"hrmEmployee/updateInsuranceScheme",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i.a)({url:"hrmEmployee/SocialSecurity/querySalaryList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i.a)({url:"hrmEmployee/SocialSecurity/querySalaryDetail/"+e,method:"post"})}},SFtu:function(e,t,a){},Sjvo:function(e,t,a){"use strict";var i=a("PIiL");a.n(i).a},StgO:function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"h",function(){return s}),a.d(t,"g",function(){return r}),a.d(t,"a",function(){return l}),a.d(t,"i",function(){return c}),a.d(t,"e",function(){return d}),a.d(t,"k",function(){return u}),a.d(t,"j",function(){return f}),a.d(t,"l",function(){return m}),a.d(t,"c",function(){return h}),a.d(t,"m",function(){return b}),a.d(t,"n",function(){return p}),a.d(t,"f",function(){return v});var i=a("t3Un");function n(e){return Object(i.a)({url:"hrmRecruitCandidate/queryById/"+e,method:"post"})}function o(e){return Object(i.a)({url:"hrmRecruitCandidate/deleteByIds",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(i.a)({url:"hrmRecruitCandidate/queryCandidateStatusNum",method:"post"})}function r(e){return Object(i.a)({url:"hrmRecruitCandidate/queryPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i.a)({url:"hrmRecruitCandidate/addCandidate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i.a)({url:"hrmRecruitCandidate/setCandidate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i.a)({url:"hrmRecruitCandidate/queryCleanCandidateIds",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i.a)({url:"hrmRecruitCandidate/updateCandidatePost",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i.a)({url:"hrmRecruitCandidate/updateCandidateRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(i.a)({url:"hrmRecruitCandidate/updateCandidateStatus",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i.a)({url:"hrmRecruitCandidate/eliminateCandidate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(i.a)({url:"hrmRecruitInterview/addBatchInterview",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(i.a)({url:"hrmRecruitInterview/setInterviewResult",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(i.a)({url:"hrmRecruitCandidate/queryFile/"+e,method:"post"})}},UGe0:function(e,t,a){"use strict";var i=a("XAon"),n=a("3pgX"),o=a("Woz+"),s=a("8GhS"),r=a("DMJz"),l=a("tG22"),c=a("bWDp"),d={name:"WkForm",components:{WkUserSelect:i.a,WkDepSelect:n.a,VDistpicker:o.a,XhFiles:s.d,WkSelect:r.a,WkCheckbox:l.a},mixins:[c.a],inheritAttrs:!1,props:{fieldFrom:{type:Object,default:function(){return{}}},fieldList:{type:Array,default:function(){return[]}},customClass:{type:String,default:"is-two-columns"}},data:function(){return{instance:null}},computed:{},watch:{},mounted:function(){var e=this;this.$nextTick(function(){e.instance=e.$refs.form})},beforeDestroy:function(){},methods:{}},u=(a("mYM5"),a("X+Pv"),a("KHd+")),f=Object(u.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",e._g(e._b({ref:"form",staticClass:"wk-form",class:e.customClass},"el-form",e.$attrs,!1),e.$listeners),[e._l(e.fieldList,function(t,i){return a("el-form-item",{key:i,class:[t.className||"","is-"+t.formType],attrs:{prop:t.field}},[a("template",{slot:"label"},[e._v("\n      "+e._s(t.name)+"\n      "),"tooltip"==t.tipType?a("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.getTips(t))},slot:"content"}),e._v(" "),a("i",{staticClass:"wk wk-help wk-help-tips"})]):a("span",{staticStyle:{color:"#999"}},[e._v("\n        "+e._s(e.getTips(t))+"\n      ")])],1),e._v(" "),"text"==t.formType?a("el-input",{attrs:{disabled:t.disabled,maxlength:100,placeholder:t.placeholder,type:t.formType},on:{input:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):e.isTrimInput(t.formType)?a("el-input",{attrs:{disabled:t.disabled,"prefix-icon":e.getInputIcon(t.formType),maxlength:e.getInputMaxlength(t.formType),placeholder:t.placeholder,type:"text"},on:{input:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,"string"==typeof a?a.trim():a)},expression:"fieldFrom[item.field]"}}):"number"==t.formType?a("el-input-number",{attrs:{placeholder:t.placeholder,disabled:t.disabled,controls:!1},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"floatnumber"==t.formType?a("el-input-number",{attrs:{placeholder:t.placeholder,disabled:t.disabled,controls:!1},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"textarea"==t.formType?a("el-input",{attrs:{disabled:t.disabled,rows:3,autosize:{minRows:3},maxlength:t.maxlength||800,placeholder:t.placeholder,type:t.formType,resize:"none"},on:{input:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"select"===t.formType&&t.hasOwnProperty("optionsData")?a("wk-select",{attrs:{disabled:t.disabled,clearable:t.clearable,placeholder:t.placeholder,options:t.setting,"show-type":1===t.precisions?"tiled":"default","other-show-input":t.hasOwnProperty("optionsData")},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"checkbox"===t.formType&&t.hasOwnProperty("optionsData")?a("wk-checkbox",{attrs:{disabled:t.disabled,clearable:t.clearable,placeholder:t.placeholder,options:t.setting,"show-type":1===t.precisions?"tiled":"default","other-show-input":t.hasOwnProperty("optionsData")},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):["checkbox","select"].includes(t.formType)?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,clearable:t.clearable,placeholder:t.placeholder,multiple:"checkbox"===t.formType},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}},e._l(t.setting,function(t,i){return a("el-option",{key:i,attrs:{label:e.isEmptyValue(t.value)?t:t.label||t.name,value:e.isEmptyValue(t.value)?t:t.value}})})):"checkbox"==t.formType?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,clearable:t.clearable,placeholder:t.placeholder,multiple:""},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}},e._l(t.setting,function(t,i){return a("el-option",{key:i,attrs:{label:e.isEmptyValue(t.value)?t:t.label||t.name,value:e.isEmptyValue(t.value)?t:t.value}})})):"date"==t.formType?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,clearable:"",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"dateRange"==t.formType?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,type:t.dateType||"daterange","value-format":t.dateValueFormat||"yyyy-MM-dd",clearable:"","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"datetime"==t.formType?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"structure"==t.formType?a("wk-dep-select",{staticStyle:{width:"100%"},attrs:{request:t.request,props:t.props,params:t.params,disabled:t.disabled,radio:!!e.isEmptyValue(t.radio)||t.radio},on:{change:function(a){e.depOrUserChange(t,i,arguments[0],arguments[1])}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):["single_user","user"].includes(t.formType)?a("wk-user-select",{staticStyle:{width:"100%"},attrs:{request:t.request,props:t.props,params:t.params,disabled:t.disabled,radio:!!e.isEmptyValue(t.radio)||t.radio},on:{change:function(a){e.depOrUserChange(t,i,arguments[0],arguments[1])}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"radio"==t.formType?a("el-radio-group",{attrs:{disabled:t.disabled,placeholder:t.placeholder},on:{change:function(a){e.commonChange(t,i,a)}},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}},e._l(t.setting,function(t,i){return a("el-radio",{key:i,attrs:{label:e.isEmptyValue(t.value)?t:t.value}},[e._v("\n        "+e._s(e.isEmptyValue(t.value)?t:t.label||t.name)+"\n      ")])})):"boolean_value"==t.formType?a("el-switch",{attrs:{disabled:t.disabled,"active-value":"1","inactive-value":"0"},model:{value:e.fieldFrom[t.field],callback:function(a){e.$set(e.fieldFrom,t.field,a)},expression:"fieldFrom[item.field]"}}):"address"==t.formType?a("v-distpicker",{attrs:{province:e.fieldFrom[t.field].province,city:e.fieldFrom[t.field].city,area:e.fieldFrom[t.field].area},on:{province:function(a){e.selectProvince(a,t,i)},city:function(a){e.selectCity(a,t,i)},area:function(a){e.selectArea(a,t,i)}}}):"file"==t.formType?a("xh-files",{attrs:{value:e.fieldFrom[t.field],disabled:t.disabled},on:{"value-change":function(a){e.oldChange(a,t,i)}}}):[e._t("default",null,{data:t,index:i})]],2)}),e._v(" "),e._t("suffix")],2)},[],!1,null,"61367085",null);f.options.__file="index.vue";t.a=f.exports},UzdC:function(e,t,a){"use strict";var i={name:"WkDetailHeader",components:{},props:{iconClass:[String,Array],iconBgColor:{type:String,default:"#ECEEF2"},iconColor:{type:String,default:"#42526E"},detailName:String,detailValue:String,defaultBodyShow:{type:Boolean,default:!0},dropdownItems:Array,showEdit:{type:Boolean,default:!1},editButtonClass:{type:String,default:"xr-btn--primary"}},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{handleTypeClick:function(e){this.$emit("command-select",e)},editClick:function(){this.$emit("edit")}}},n=(a("nEBa"),a("KHd+")),o=Object(n.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"xr-detail-header"},[e.iconClass?a("div",{staticClass:"xr-detail-header__icon",style:{backgroundColor:e.iconBgColor}},[a("i",{class:e.iconClass,style:{color:e.iconColor}})]):e._e(),e._v(" "),a("div",{staticClass:"xr-detail-header__body"},[e._t("body"),e._v(" "),e.defaultBodyShow?[a("div",{staticClass:"detail-name"},[e._v(e._s(e.detailName))]),e._v(" "),a("div",{staticClass:"detail-value"},[e._v(e._s(e.detailValue))])]:e._e()],2),e._v(" "),a("div",{staticClass:"xr-detail-header__ft"},[e._t("ft"),e._v(" "),e.showEdit?a("el-button",{staticClass:"xr-detail-header--button",class:e.editButtonClass,staticStyle:{"margin-right":"10px"},attrs:{icon:"wk wk-circle-edit",type:"primary"},nativeOn:{click:function(t){return e.editClick(t)}}},[e._v("编辑")]):e._e(),e._v(" "),e.dropdownItems&&e.dropdownItems.length>0?a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleTypeClick}},[a("el-button",{staticClass:"xr-detail-header--more",attrs:{icon:"el-icon-more"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.dropdownItems,function(t,i){return a("el-dropdown-item",{key:i,attrs:{icon:t.icon,command:t.command}},[e._v(e._s(t.label))])}))],1):e._e()],2)])},[],!1,null,"e893dc20",null);o.options.__file="index.vue";t.a=o.exports},VNy6:function(e,t,a){},VbqV:function(e,t,a){},Vz7l:function(e,t,a){},W7L6:function(e,t,a){},WEGX:function(e,t,a){"use strict";var i=a("QbLZ"),n=a.n(i),o=a("cHj4"),s=a("Ew9n"),r=a("4d7F"),l=a.n(r),c=a("GQeE"),d=a.n(c),u=a("Gqw/"),f=a("j3/X"),m=a("0WXr"),h=a("XaGJ"),b=a("TN+K"),p=a("JPSa"),v=a("V4FA"),y=a("7Qib"),g=a("a/5N"),w=a("ixM/"),_=a("IEYw"),C={name:"EmployeePostInfo",components:{WkBaseDetail:f.a,WkCustomBaseDetail:m.a,FormAddDialog:h.a,CustomFormAddDialog:b.a},mixins:[_.a],props:{id:[String,Number],detail:Object},data:function(){return{loading:!1,leaveDetail:null,postEditList:[],postList:[],leaveFields:[{label:"计划离职日期",field:"planQuitTime",value:""},{label:"申请离职日期",field:"applyQuitTime",value:""},{label:"薪资结算日期",field:"salarySettlementTime",value:""},{label:"离职类型",field:"quitType",value:""},{label:"离职原因",field:"quitReason",value:""},{label:"备注",field:"remarks",value:""}],leaveList:[],formAddCommond:"",formAddTitle:"",formAddForm:{},formAddRules:{},formAddFields:[],formAddDialogShow:!1,channelList:[],customFormAddFields:[],customFormAddDialogShow:!1,updateKey:Date.now()}},inject:["editAuth"],computed:{dropdownItems:function(){var e=[];return this.editAuth&&this.detail&&3==this.detail.entryStatus&&e.push({label:"调整离职信息",command:"change-leave",icon:""}),e},postDropdownItems:function(){var e=[];return this.editAuth&&e.push({label:"编辑",command:"edit",icon:""}),e}},watch:{id:function(e){this.getDetail()}},mounted:function(){this.getDetail()},activated:function(){},deactivated:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(u.c)(this.id).then(function(t){e.loading=!1;var a=t.data.information||[];e.postEditList=Object(y.w)(a);var i=[];a.forEach(function(e){e.value=e.fieldValue,"employment_forms"==e.fieldName?e.value=w.d.employmentFormsValue[e.value]:"probation"==e.fieldName?e.value=w.d.probationValue[e.value]:"status"==e.fieldName?e.value=w.d.statusValue[e.value]:"user"==e.formType||"structure"==e.formType||"recruit_channel"==e.formType||"area"==e.formType?e.value=e.fieldValueDesc:"company_age"==e.fieldName&&(e.value=e.fieldValueDesc),i.push(e)});var n=e.getFormAssistIds([i]),o=[];i.forEach(function(t){if(e.getFormItemDefaultProperty(t,!1),t.show=!n.includes(t.formAssistId),"detail_table"===t.formType){if(!Object(g.b)(t.value)){var a=t.value;Object(g.a)(a)&&a.forEach(function(e){e&&e.forEach(function(e){e&&(e.value=e.fieldValue)})}),t.value=e.getItemValue(t,null,"update")}Object(g.a)(t.value)||(t.value=[])}t.show&&o.push(t)}),e.postList=[{name:"岗位信息",list:o}];var s=t.data.employeeQuitInfo;if(e.leaveDetail=s,s){var r=[];p.a.getFields(s).forEach(function(e){var t={label:e.name};"quitType"==e.field?t.value=p.a.quitTypeValue[s[e.field]]:"quitReason"==e.field?t.value=p.a.quitReasonValue[s[e.field]]:t.value=s[e.field],r.push(t)}),e.leaveList=[{name:"离职信息",list:r}]}else e.leaveList=[]}).catch(function(){e.loading=!1})},topCommandSelect:function(e){this.formAddCommond=e,"change-leave"==e&&(this.formAddTitle="调整离职信息",this.formAddForm=this.leaveDetail?{planQuitTime:this.leaveDetail.planQuitTime,applyQuitTime:this.leaveDetail.applyQuitTime,salarySettlementTime:this.leaveDetail.salarySettlementTime,quitType:this.leaveDetail.quitType,quitReason:this.leaveDetail.quitReason,remarks:this.leaveDetail.remarks,quitInfoId:this.leaveDetail.quitInfoId}:{quitType:1,quitReason:1},this.formAddRules=p.a.getRules(this.formAddForm),this.formAddFields=p.a.getFields(this.formAddForm),this.formAddDialogShow=!0)},formAddPass:function(){var e=this;this.$refs.formAdddialog.loading=!0,this.formAddForm.employeeId=this.id,Object(u.d)(this.formAddForm).then(function(t){e.$refs.formAdddialog.loading=!1,e.$message.success(e.formAddTitle+"成功"),e.formAddDialogShow=!1,e.getDetail(),e.updateKey=Date.now(),e.$emit("handle",{type:e.formAddCommond})}).catch(function(){e.$refs.formAdddialog.loading=!1})},customFormAddPass:function(e){var t=this,a=Object(y.w)(e.field);a.forEach(function(e){if("work_city"==e.fieldName)if(e.value){var t="";d()(e.value).forEach(function(a){e.value[a]&&(t?t+=","+e.value[a]:t=e.value[a])}),e.value=t}else e.value="";if(45===e.type){var a=e.value;Object(g.a)(a)&&a.forEach(function(e){e&&e.forEach(function(e){e&&(e.fieldValue=e.value)})})}delete e.fieldType,e.fieldValue=e.value,delete e.value});var i=this.$refs.customFormAdddialog;i.loading=!0;var n={};n.employeeId=this.id,n.dataList=a,Object(u.e)(n).then(function(e){i.loading=!1,t.$message.success(t.formAddTitle+"成功"),t.customFormAddDialogShow=!1,t.getDetail(),t.updateKey=Date.now(),t.$emit("handle",{type:t.formAddCommond})}).catch(function(){i.loading=!1})},postCommandSelect:function(e){var t=this;if("edit"==e){var a=[];Object(y.w)(this.postEditList).forEach(function(e){if("company_age"!=e.fieldName&&"become_time"!=e.fieldName){if(t.handleFieldExtendList(e),v.a.getCreateFieldDefalutData(e),e.value=e.fieldValue,t.handleTableValue(e),"work_city"===e.fieldName&&(e.formType="address"),"dept_id"!==e.fieldName&&"parent_id"!==e.fieldName||(e.radio=!0),"employment_forms"==e.fieldName?(e.disabled=!0,e.setting=w.d.employmentFormsSetting):"probation"==e.fieldName?e.setting=w.d.probationSetting:"recruit_channel"==e.formType?(e.formType="select",t.channelList&&t.channelList.length>0?e.setting=t.channelList:t.getChannelDetail(e)):"status"==e.fieldName&&(e.setting=w.d.statusSetting),"detail_table"===e.formType){if(!Object(g.b)(e.value)){var i=e.value;Object(g.a)(i)&&i.forEach(function(e){e&&e.forEach(function(e){e&&(e.value=e.fieldValue)})})}Object(g.a)(e.value)||(e.value=[])}if(2==t.detail.employmentForms||1==t.detail.employmentForms&&"status"!=e.fieldName){if("address"==e.formType)if(e.value){var n=e.value.split(",");e.value={province:n[0]||"",city:n[1]||"",area:n[2]||""}}else e.value={};a.push(e)}}}),this.formAddTitle="编辑岗位信息",this.customFormAddFields=a,this.customFormAddDialogShow=!0}},UniquePromise:function(e){var t=this,a=e.field,i=e.value;return new l.a(function(e,n){Object(o.v)({fieldId:a.fieldId,id:t.id,value:i}).then(function(t){e()}).catch(function(){n()})})},formAddChange:function(e,t,a,i,n){if(i&&(e.valueList=i),"entry_time"==e.field){var o=this.formAddFields.find(function(e){return"company_age_start_time"===e.fieldName});o&&this.$set(n,o.fieldName,n.entry_time)}"调整离职信息"===this.formAddTitle&&"quitType"==e.field&&(1==a?n.quitReason=1:2==a?n.quitReason=11:3==a&&(n.quitReason=""),this.formAddRules=p.a.getRules(n),this.formAddFields=p.a.getFields(n))},getChannelDetail:function(e){var t=this;return new l.a(function(a,i){Object(u.f)().then(function(i){var n=i.data||[];n.forEach(function(e){1==e.status&&(e.label=e.value,e.value=e.channelId)}),t.channelList=n,t.$set(e,"setting",t.channelList),a(t.channelList)}).catch(function(){})})},handleTableValue:function(e){if("detail_table"===e.formType){if(!Object(g.b)(e.value)){var t=e.value;Object(g.a)(t)&&t.forEach(function(e){e&&e.forEach(function(e){e&&(v.a.getCreateFieldDefalutData(e),e.value=e.fieldValue)})})}Object(g.a)(e.value)||(e.value=[])}},handleFieldExtendList:function(e){if("detail_table"===e.formType&&!Object(g.b)(e.fieldExtendList)){var t=e.fieldExtendList;Object(g.a)(t)&&t.forEach(function(e){e&&(v.a.getCreateFieldDefalutData(e),e.value=e.fieldValue)})}}}},D=(a("IVrs"),a("KHd+")),k=Object(D.a)(C,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.updateKey},[a("wk-custom-base-detail",{attrs:{list:e.postList},scopedSlots:e._u([{key:"data",fn:function(t){var a=t.data;return[e._v(e._s(a.value))]}}])},[e.editAuth?a("el-button",{attrs:{slot:"more",type:"text"},on:{click:function(t){e.postCommandSelect("edit")}},slot:"more"},[e._v("编辑")]):e._e()],1),e._v(" "),e.leaveList.length>0?a("wk-base-detail",{attrs:{"dropdown-items":e.dropdownItems,list:e.leaveList},on:{"top-command-select":e.topCommandSelect}}):e._e(),e._v(" "),a("form-add-dialog",{ref:"formAdddialog",attrs:{title:e.formAddTitle,form:e.formAddForm,rules:e.formAddRules,fields:e.formAddFields,visible:e.formAddDialogShow},on:{"update:form":function(t){e.formAddForm=t},"update:visible":function(t){e.formAddDialogShow=t},pass:e.formAddPass,change:e.formAddChange}}),e._v(" "),e.customFormAddDialogShow?a("custom-form-add-dialog",{ref:"customFormAdddialog",attrs:{title:e.formAddTitle,id:e.id,fields:e.customFormAddFields,visible:e.customFormAddDialogShow},on:{"update:visible":function(t){e.customFormAddDialogShow=t},pass:e.customFormAddPass}}):e._e()],1)},[],!1,null,"75b6cc32",null);k.options.__file="EmployeePostInfo.vue";var T=k.exports,F=a("EP+0"),A=a("lMh0"),x=a("REUC"),S={name:"EmployeeBaseInfo",components:{WkBaseDetail:f.a,CreateSections:F.a,WkBaseDetailSection:A.a,FormAddDialog:h.a,WkCustomBaseDetail:m.a,WkCustomBaseDetailSection:x.a,CustomFormAddDialog:b.a},filters:{},mixins:[_.a],props:{id:[String,Number]},data:function(){return{loading:!1,baseEditList:[],baseList:[],communicationEditList:[],communicationList:[],educationBaseList:[],educationList:[],workBaseList:[],workList:[],certificateBaseList:[],certificateList:[],trainingBaseList:[],trainingList:[],contactsBaseList:[],contactsFieldList:[],contactsAddRules:{},contactsList:[],formAddTitle:"",formAddForm:{},formAddRules:{},formAddFields:[],formAddDialogShow:!1,customFormAddFields:[],customFormAddDialogShow:!1,updateKey:Date.now()}},inject:["editAuth"],computed:{baseDropdownItems:function(){var e=[];return this.editAuth&&e.push({label:"编辑",command:"edit",icon:""}),e},communicationDropdownItems:function(){var e=[];return this.editAuth&&e.push({label:"编辑",command:"edit",icon:""}),e},dropdownItems:function(){return this.editAuth?[{label:"编辑",command:"edit"},{label:"删除",command:"delete"}]:[]}},watch:{id:function(e){this.getDetail()}},mounted:function(){this.getDetail()},activated:function(){},deactivated:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(o.B)(this.id).then(function(t){e.loading=!1;var a=t.data||{},i=Object(y.w)(a);e.baseList=[{name:"基本信息",list:e.getCustomFieldListValue(a.information||[])}],e.communicationList=[{name:"通讯信息",list:e.getCustomFieldListValue(a.communicationInformation||[])}],e.baseEditList=i.information||[],e.communicationEditList=i.communicationInformation||[];var n=a.educationExperienceList||[],o=[];e.educationBaseList=n,n.forEach(function(e){var t=[];w.c.fields.forEach(function(a){var i={};i.label=a.name,"education"===a.field?i.value=w.c.educationValue[e[a.field]]:"teachingMethods"===a.field?i.value=w.c.teachingMethodsValue[e[a.field]]:"isFirstDegree"===a.field?i.value=w.c.isFirstDegreeValue[e[a.field]]:i.value=e[a.field],t.push(i)}),o.push(t)}),e.educationList=o;var s=a.workExperienceList||[];e.workBaseList=s,e.workList=e.getCommonFieldListValue(s,w.g.fields);var r=a.certificateList||[];e.certificateBaseList=r,e.certificateList=e.getCommonFieldListValue(r,w.a.fields);var l=a.trainingExperienceList||[];e.trainingBaseList=l,e.trainingList=e.getCommonFieldListValue(l,w.f.fields);var c=a.hrmEmployeeContacts||[];e.contactsBaseList=i.hrmEmployeeContacts||[],e.contactsList=c.map(function(t){return e.getCustomFieldListValue(t.information||[])})}).catch(function(){e.loading=!1})},getCustomFieldListValue:function(e){var t=this;e.forEach(function(e){["id_type","sex","birthday_type","highest_education"].includes(e.fieldName)?e.value=e.fieldValueDesc:e.value=e.fieldValue});var a=this.getFormAssistIds([e]),i=[];return e.forEach(function(e){if(t.getFormItemDefaultProperty(e,!1),e.show=!a.includes(e.formAssistId),"detail_table"===e.formType){if(!Object(g.b)(e.value)){var n=e.value;Object(g.a)(n)&&n.forEach(function(e){e&&e.forEach(function(e){e&&(e.value=e.fieldValue)})}),e.value=t.getItemValue(e,null,"update")}Object(g.a)(e.value)||(e.value=[])}e.show&&i.push(e)}),i},getCommonFieldListValue:function(e,t){var a=[];return e.forEach(function(e){var i=[];t.forEach(function(t){var a={};a.label=t.name,a.value=e[t.field],i.push(a)}),a.push(i)}),a},educationCreateClick:function(){this.formAddTitle="新建教育经历",this.formAddForm={isFirstDegree:1,education:1},this.formAddRules=w.c.rules,this.formAddFields=w.c.fields,this.formAddDialogShow=!0},uploadEmployeeRelativeData:function(){var e=this;this.$refs.formAdddialog.loading=!0,this.formAddForm.employeeId=this.id;var t=null;"新建教育经历"===this.formAddTitle?t=o.c:"编辑教育经历"===this.formAddTitle?t=o.O:"新建工作经历"===this.formAddTitle?t=o.f:"编辑工作经历"===this.formAddTitle?t=o.R:"新建证书/证件"===this.formAddTitle?t=o.a:"编辑证书/证件"===this.formAddTitle?t=o.L:"添加培训经历"===this.formAddTitle?t=o.e:"编辑培训经历"===this.formAddTitle?t=o.Q:"添加联系人"===this.formAddTitle?t=o.b:"编辑联系人"===this.formAddTitle&&(t=o.N),t(this.formAddForm).then(function(t){e.$refs.formAdddialog.loading=!1,e.$message.success(e.formAddTitle+"成功"),e.formAddDialogShow=!1,e.updateKey=Date.now(),e.getDetail()}).catch(function(){e.$refs.formAdddialog.loading=!1})},workCreateClick:function(){this.formAddTitle="新建工作经历",this.formAddForm={isFirstDegree:1,education:1},this.formAddRules=w.g.rules,this.formAddFields=w.g.fields,this.formAddDialogShow=!0},certificateCreateClick:function(){this.formAddTitle="新建证书/证件",this.formAddForm={},this.formAddRules=w.a.rules,this.formAddFields=w.a.fields,this.formAddDialogShow=!0},trainingCreateClick:function(){this.formAddTitle="添加培训经历",this.formAddForm={},this.formAddRules=w.f.rules,this.formAddFields=w.f.fields,this.formAddDialogShow=!0},contactsCreateClick:function(){var e=this;Object(o.F)().then(function(t){var a=[];(t.data||[]).forEach(function(t){e.handleFieldExtendList(t),v.a.getCreateFieldDefalutData(t),t.value=t.fieldValue,e.handleTableValue(t),a.push(t)}),e.formAddTitle="新建联系人",e.formAddForm={},e.customFormAddFields=a,e.customFormAddDialogShow=!0}).catch(function(){})},getCustomEditId:function(){return"新建联系人"===this.formAddTitle?"":this.formAddForm.contactsId||this.id},formAddPass:function(){"编辑基本信息"==this.formAddTitle||"编辑联系人"==this.formAddTitle||"新建联系人"==this.formAddTitle||"编辑通讯信息"==this.formAddTitle?this.uploadCustomRelativeData():this.uploadEmployeeRelativeData()},formAddChange:function(e,t,a,i){i&&(e.valueList=i)},customFormAddPass:function(e){var t=this,a=Object(y.w)(e.field);a.forEach(function(e){if("native_place"==e.fieldName)if(e.value){var t="";d()(e.value).forEach(function(a){e.value[a]&&(t?t+=","+e.value[a]:t=e.value[a])}),e.value=t}else e.value="";if(45===e.type){var a=e.value;Object(g.a)(a)&&a.forEach(function(e){e&&e.forEach(function(e){e&&(e.fieldValue=e.value)})})}delete e.fieldType,e.fieldValue=e.value,delete e.value});var i=this.$refs.customFormAdddialog;i.loading=!0;var n={};n.employeeId=this.id,n.dataList=a;var s=null;"编辑基本信息"===this.formAddTitle?s=o.T:"编辑联系人"===this.formAddTitle?(s=o.N,n.contactsId=this.formAddForm.contactsId):"新建联系人"===this.formAddTitle?s=o.b:"编辑通讯信息"===this.formAddTitle&&(s=o.S),s(n).then(function(e){i.loading=!1,t.$message.success(t.formAddTitle+"成功"),t.customFormAddDialogShow=!1,t.getDetail(),t.updateKey=Date.now(),t.$emit("handle",{type:"update"})}).catch(function(){i.loading=!1})},commandSelect:function(e,t,a){var i=this;if("education"==t){var n=this.educationBaseList[a];"delete"==e?this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.n)(n.educationId).then(function(e){i.$message.success("删除成功"),i.educationBaseList.splice(a,1),i.educationList.splice(a,1)})}).catch(function(){i.$message({type:"info",message:"已取消操作"})}):"edit"==e&&(this.formAddTitle="编辑教育经历",this.formAddForm={education:n.education,graduateSchool:n.graduateSchool,major:n.major,admissionTime:n.admissionTime,graduationTime:n.graduationTime,teachingMethods:n.teachingMethods,isFirstDegree:n.isFirstDegree,educationId:n.educationId},this.formAddRules=w.c.rules,this.formAddFields=w.c.fields,this.formAddDialogShow=!0)}else if("work"==t){var s=this.workBaseList[a];"delete"==e?this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.p)(s.workExpId).then(function(e){i.$message.success("删除成功"),i.workBaseList.splice(a,1),i.workList.splice(a,1)})}).catch(function(){i.$message({type:"info",message:"已取消操作"})}):"edit"==e&&(this.formAddTitle="编辑工作经历",this.formAddForm={workUnit:s.workUnit,post:s.post,workStartTime:s.workStartTime,workEndTime:s.workEndTime,leavingReason:s.leavingReason,witness:s.witness,witnessPhone:s.witnessPhone,workRemarks:s.workRemarks,workExpId:s.workExpId},this.formAddRules=w.g.rules,this.formAddFields=w.g.fields,this.formAddDialogShow=!0)}else if("certificate"==t){var r=this.certificateBaseList[a];"delete"==e?this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.l)(r.certificateId).then(function(e){i.$message.success("删除成功"),i.certificateBaseList.splice(a,1),i.certificateList.splice(a,1)})}).catch(function(){i.$message({type:"info",message:"已取消操作"})}):"edit"==e&&(this.formAddTitle="编辑证书/证件",this.formAddForm={certificateName:r.certificateName,certificateLevel:r.certificateLevel,certificateNum:r.certificateNum,startTime:r.startTime,endTime:r.endTime,issuingAuthority:r.issuingAuthority,issuingTime:r.issuingTime,remarks:r.remarks,certificateId:r.certificateId},this.formAddRules=w.a.rules,this.formAddFields=w.a.fields,this.formAddDialogShow=!0)}else if("training"==t){var l=this.trainingBaseList[a];"delete"==e?this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.o)(l.trainingId).then(function(e){i.$message.success("删除成功"),i.trainingBaseList.splice(a,1),i.trainingList.splice(a,1)})}).catch(function(){i.$message({type:"info",message:"已取消操作"})}):"edit"==e&&(this.formAddTitle="编辑培训经历",this.formAddForm={trainingCourse:l.trainingCourse,trainingOrganName:l.trainingOrganName,startTime:l.startTime,endTime:l.endTime,trainingDuration:l.trainingDuration,trainingResults:l.trainingResults,trainingCertificateName:l.trainingCertificateName,remarks:l.remarks,trainingId:l.trainingId},this.formAddRules=w.f.rules,this.formAddFields=w.f.fields,this.formAddDialogShow=!0)}else if("contacts"==t){var c=Object(y.w)(this.contactsBaseList[a]);if("delete"==e)this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.m)(c.contactsId).then(function(e){i.$message.success("删除成功"),i.contactsBaseList.splice(a,1),i.contactsList.splice(a,1)})}).catch(function(){i.$message({type:"info",message:"已取消操作"})});else if("edit"==e){var d=[];Object(y.w)(c.information||[]).forEach(function(e){i.handleFieldExtendList(e),v.a.getCreateFieldDefalutData(e),e.value=e.fieldValue,i.handleTableValue(e),d.push(e)}),this.formAddTitle="编辑联系人",this.formAddForm={contactsId:c.contactsId},this.customFormAddFields=d,this.customFormAddDialogShow=!0}}},baseCommandSelect:function(e){var t=this;if("edit"==e){var a=[];Object(y.w)(this.baseEditList).forEach(function(e){if("age"!=e.fieldName){if(t.handleFieldExtendList(e),v.a.getCreateFieldDefalutData(e),e.value=e.fieldValue,t.handleTableValue(e),"city"==e.formType)if(e.value){var i=e.value.split(",");e.value={province:i[0]||"",city:i[1]||""}}else e.value={};a.push(e)}}),this.formAddTitle="编辑基本信息",this.customFormAddFields=a,this.customFormAddDialogShow=!0}},handleTableValue:function(e){if("detail_table"===e.formType){if(!Object(g.b)(e.value)){var t=e.value;Object(g.a)(t)&&t.forEach(function(e){e&&e.forEach(function(e){e&&(v.a.getCreateFieldDefalutData(e),e.value=e.fieldValue)})})}Object(g.a)(e.value)||(e.value=[])}},handleFieldExtendList:function(e){if("detail_table"===e.formType&&!Object(g.b)(e.fieldExtendList)){var t=e.fieldExtendList;Object(g.a)(t)&&t.forEach(function(e){e&&(v.a.getCreateFieldDefalutData(e),e.value=e.fieldValue)})}},communicationCommandSelect:function(e){var t=this;if("edit"==e){var a=[];Object(y.w)(this.communicationEditList).forEach(function(e){t.handleFieldExtendList(e),v.a.getCreateFieldDefalutData(e),e.value=e.fieldValue,t.handleTableValue(e),a.push(e)}),this.formAddTitle="编辑通讯信息",this.customFormAddFields=a,this.customFormAddDialogShow=!0}},UniquePromise:function(e){var t=this,a=e.field,i=e.value;return new l.a(function(e,n){Object(o.v)({fieldId:a.fieldId,id:t.formAddForm.contactsId||t.id,value:i}).then(function(t){e()}).catch(function(){n()})})},uploadCustomRelativeData:function(){var e=this;this.$refs.formAdddialog.loading=!0;var t={employeeId:this.id};this.formAddFields.forEach(function(t){if(t.oldFieldValueDesc=t.fieldValueDesc,"city"==t.formType){var a=e.formAddForm[t.field]||{},i=[];for(var n in a)a[n]&&i.push(a[n]);t.fieldValue=i.join(",")}else t.fieldValue=e.formAddForm[t.field];"user"==t.formType?t.valueList?t.fieldValueDesc=t.valueList.map(function(e){return e.employeeName}).join("，"):t.fieldValue&&!t.valueList&&(t.fieldValueDesc=t.fieldValueDesc):"structure"==t.formType?t.valueList?t.fieldValueDesc=t.valueList.map(function(e){return e.name}).join("，"):t.fieldValue&&!t.valueList&&(t.fieldValueDesc=t.fieldValueDesc):"id_type"==t.field?t.fieldValueDesc=w.d.idTypeValue[t.fieldValue]:"sex"==t.field?t.fieldValueDesc=w.d.sexValue[t.fieldValue]:"birthday_type"==t.field?t.fieldValueDesc=w.d.birthdayTypeValue[t.fieldValue]:"highest_education"==t.field?t.fieldValueDesc=w.c.educationValue[t.fieldValue]:t.fieldValueDesc=t.fieldValue}),t.dataList=this.formAddFields;var a=null;"编辑基本信息"===this.formAddTitle?a=o.T:"编辑联系人"===this.formAddTitle?(a=o.N,t.contactsId=this.formAddForm.contactsId):"新建联系人"===this.formAddTitle?a=o.b:"编辑通讯信息"===this.formAddTitle&&(a=o.S),a(t).then(function(t){e.$refs.formAdddialog.loading=!1,e.$message.success(e.formAddTitle+"成功"),e.formAddDialogShow=!1,e.getDetail()}).catch(function(){e.$refs.formAdddialog.loading=!1})}}},I=(a("kyS4"),Object(D.a)(S,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.updateKey},[a("wk-custom-base-detail",{attrs:{list:e.baseList},scopedSlots:e._u([{key:"data",fn:function(t){var a=t.data;return[e._v(e._s(a.value))]}}])},[e.editAuth?a("el-button",{attrs:{slot:"more",type:"text"},on:{click:function(t){e.baseCommandSelect("edit")}},slot:"more"},[e._v("编辑")]):e._e()],1),e._v(" "),a("wk-custom-base-detail",{attrs:{"dropdown-items":e.communicationDropdownItems,list:e.communicationList},on:{"top-command-select":e.communicationCommandSelect}}),e._v(" "),a("create-sections",{attrs:{title:"教育经历"}},[e._l(e.educationList,function(t,i){return a("wk-base-detail-section",{key:i,attrs:{"dropdown-items":e.dropdownItems,list:t},on:{"command-select":function(t){e.commandSelect(t,"education",i)}}})}),e._v(" "),e.editAuth?a("el-button",{staticClass:"base-add-button",attrs:{plain:""},on:{click:e.educationCreateClick}},[e._v("+  添加教育经历")]):e._e()],2),e._v(" "),a("create-sections",{attrs:{title:"工作经历"}},[e._l(e.workList,function(t,i){return a("wk-base-detail-section",{key:i,attrs:{"dropdown-items":e.dropdownItems,list:t},on:{"command-select":function(t){e.commandSelect(t,"work",i)}}})}),e._v(" "),e.editAuth?a("el-button",{staticClass:"base-add-button",attrs:{plain:""},on:{click:e.workCreateClick}},[e._v("+  添加工作经历")]):e._e()],2),e._v(" "),a("create-sections",{attrs:{title:"证书/证件"}},[e._l(e.certificateList,function(t,i){return a("wk-base-detail-section",{key:i,attrs:{"dropdown-items":e.dropdownItems,list:t},on:{"command-select":function(t){e.commandSelect(t,"certificate",i)}}})}),e._v(" "),e.editAuth?a("el-button",{staticClass:"base-add-button",attrs:{plain:""},on:{click:e.certificateCreateClick}},[e._v("+  添加证书/证件")]):e._e()],2),e._v(" "),a("create-sections",{attrs:{title:"培训经历"}},[e._l(e.trainingList,function(t,i){return a("wk-base-detail-section",{key:i,attrs:{"dropdown-items":e.dropdownItems,list:t},on:{"command-select":function(t){e.commandSelect(t,"training",i)}}})}),e._v(" "),e.editAuth?a("el-button",{staticClass:"base-add-button",attrs:{plain:""},on:{click:e.trainingCreateClick}},[e._v("+  添加培训经历")]):e._e()],2),e._v(" "),a("create-sections",{attrs:{title:"联系人"}},[e._l(e.contactsList,function(t,i){return a("wk-custom-base-detail-section",{key:i,attrs:{"dropdown-items":e.dropdownItems,list:t},on:{"command-select":function(t){e.commandSelect(t,"contacts",i)}}})}),e._v(" "),e.editAuth?a("el-button",{staticClass:"base-add-button",attrs:{plain:""},on:{click:e.contactsCreateClick}},[e._v("+  联系人")]):e._e()],2),e._v(" "),a("form-add-dialog",{ref:"formAdddialog",attrs:{title:e.formAddTitle,form:e.formAddForm,rules:e.formAddRules,fields:e.formAddFields,visible:e.formAddDialogShow},on:{"update:form":function(t){e.formAddForm=t},"update:visible":function(t){e.formAddDialogShow=t},pass:e.formAddPass,change:e.formAddChange}}),e._v(" "),e.customFormAddDialogShow?a("custom-form-add-dialog",{ref:"customFormAdddialog",attrs:{title:e.formAddTitle,id:e.getCustomEditId(),fields:e.customFormAddFields,visible:e.customFormAddDialogShow},on:{"update:visible":function(t){e.customFormAddDialogShow=t},pass:e.customFormAddPass}}):e._e()],1)},[],!1,null,"3b23f76d",null));I.options.__file="EmployeeBaseInfo.vue";var E=I.exports,j=a("t3Un");function O(e){return Object(j.a)({url:"hrmEmployeeContract/addContract",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(j.a)({url:"hrmEmployeeContract/setContract",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}var N=a("tbm1"),$=a("PwLV"),B=a("KTTK"),P={name:"WkFileCell",filters:{getFileSize:function(e){return Object(y.h)(e)}},props:{index:Number,data:Object,list:Array,showFoot:{type:Boolean,default:!0},cursorPointer:{type:Boolean,default:!1},previewShow:{type:Boolean,default:!0},deleteShow:{type:Boolean,default:!1}},data:function(){return{}},computed:{fileName:function(){return this.data?this.data.name||this.data.fileName:""},fileIcon:function(){var e=this.fileName?this.fileName.split("."):[],t="";return t=e.length>0?e[e.length-1]:"",Object(y.n)(t)}},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{downloadClick:function(){var e=this;Object(B.l)(this.data.url).then(function(t){var a=new Blob([t.data],{type:""});Object(y.e)(a,e.data.name)}).catch(function(){})},previewClick:function(){Object(y.a)(this.fileName)?Object(y.G)(this.data.url,this.fileName):this.$wkPreviewFile.preview({index:this.index||0,data:this.list.map(function(e){return{url:e.url,name:e.name}})})},deleteClick:function(){var e=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("delete",e.data,e.index)}).catch(function(){e.$message({type:"info",message:"已取消操作"})})}}},V=(a("vBho"),Object(D.a)(P,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"wk-file-cell"},[a("img",{staticClass:"wk-file-cell__header",attrs:{src:e.fileIcon,alt:""}}),e._v(" "),a("div",{staticClass:"wk-file-cell__body text-one-line",class:{"cursor-pointer":e.cursorPointer}},[e._v("\n    "+e._s(e.fileName.length>20?e.fileName.substring(0,20)+"...":e.fileName)+"\n  ")]),e._v(" "),a("div",{staticClass:"wk-file-cell__size"},[e._v("\n    ("+e._s(e._f("getFileSize")(e.data.size))+")\n  ")]),e._v(" "),a("div",{staticClass:"wk-file-cell__footer"},[[e.previewShow?a("span",{staticClass:"xr-text-btn primary",on:{click:e.previewClick}},[e._v("预览")]):e._e(),e._v(" "),a("span",{staticClass:"xr-text-btn primary",on:{click:e.downloadClick}},[e._v("下载")]),e._v(" "),e.deleteShow?a("span",{staticClass:"xr-text-btn delete",on:{click:e.deleteClick}},[e._v("删除")]):e._e()]],2)])},[],!1,null,"779bc66c",null));V.options.__file="index.vue";var M=V.exports,R=a("kq9f"),W={name:"EmployeeContract",components:{CreateSections:F.a,WkBaseDetailSection:A.a,FormAddDialog:h.a,WkFileSelect:$.a,WkFileCell:M},props:{id:[String,Number]},data:function(){return{loading:!1,contractList:[],contractBaseList:[],formAddTitle:"",formAddForm:{},formAddRules:{},formAddFields:[],formAddDialogShow:!1,batchId:"",fileList:[]}},inject:["editAuth"],computed:{dropdownItems:function(){return this.editAuth?[{label:"编辑",command:"edit"},{label:"删除",command:"delete"}]:[]}},watch:{id:{handler:function(){this.getDetail()},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{getDetail:function(){var e,t=this;this.loading=!0,(e=this.id,Object(j.a)({url:"hrmEmployeeContract/contractInformation/"+e,method:"post"})).then(function(e){t.loading=!1;var a=e.data||[];t.contractBaseList=a,t.contractList=t.getCommonFieldListValue(a)}).catch(function(){t.loading=!1})},getCommonFieldListValue:function(e){var t=[];return e.forEach(function(e){var a=[];R.a.getFields(e).forEach(function(t){var i={};i.label=t.name,"contractType"===t.field?i.value=R.a.contractTypeValue[e[t.field]]:"term"===t.field?i.value=R.a.termValue[e[t.field]]:"status"===t.field?i.value=R.a.statusValue[e[t.field]]:i.value=e[t.field],a.push(i)}),t.push(a)}),t},contractCreateClick:function(){this.batchId=Object(y.v)(),this.fileList=[],this.formAddTitle="添加合同",this.formAddForm={contractType:1,term:1,status:0},this.formAddRules=R.a.getRules(this.formAddForm),this.formAddFields=R.a.getFields(this.formAddForm),this.formAddDialogShow=!0},formAddDialogChange:function(e,t,a,i){"contractType"===e.field&&(this.formAddRules=R.a.getRules({contractType:a}),this.formAddFields=R.a.getFields({contractType:a}))},uploadEmployeeRelativeData:function(){var e=this;this.formAddDialogShow=!0,this.formAddForm.batchId=this.batchId,this.formAddForm.employeeId=this.id;var t=null;"添加合同"===this.formAddTitle?t=O:"编辑合同"===this.formAddTitle&&(t=L),t(this.formAddForm).then(function(t){e.formAddDialogShow=!1,e.$message.success(e.formAddTitle+"成功"),e.formAddDialogShow=!1,e.getDetail()}).catch(function(){e.formAddDialogShow=!1})},commandSelect:function(e,t){var a=this,i=this.contractBaseList[t];"delete"==e?this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e;(e=i.contractId,Object(j.a)({url:"hrmEmployeeContract/deleteContract/"+e,method:"post"})).then(function(e){a.$message.success("删除成功"),a.contractBaseList.splice(t,1),a.contractList.splice(t,1)})}).catch(function(){a.$message({type:"info",message:"已取消操作"})}):"edit"==e&&(this.formAddTitle="编辑合同",this.formAddForm={contractNum:i.contractNum,contractType:i.contractType,startTime:i.startTime,endTime:i.endTime,term:i.term,status:i.status,signCompany:i.signCompany,signTime:i.signTime,remarks:i.remarks,contractId:i.contractId},this.batchId=i.batchId,this.fileList=i.fileList||[],this.formAddRules=R.a.getRules(this.formAddForm),this.formAddFields=R.a.getFields(this.formAddForm),this.formAddDialogShow=!0)},fileSelect:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];this.uploadFileRequest(i)}t.target.value=""},uploadFileRequest:function(e){var t=this;this.$wkUploadFile.upload({request:N.g,file:e,params:{batchId:this.batchId}}).then(function(e){var a=e.res;t.fileList.push(a.data)}).catch(function(){})},fileDelete:function(e,t){var a=this;Object(N.b)(e.fileId).then(function(e){a.fileList.splice(t,1)}).catch(function(){})}}},q=(a("adJy"),Object(D.a)(W,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("create-sections",{attrs:{title:"合同信息"}},[e._l(e.contractList,function(t,i){return a("wk-base-detail-section",{key:i,attrs:{"dropdown-items":e.dropdownItems,list:t},on:{"command-select":function(t){e.commandSelect(t,i)}}},[a("div",{staticStyle:{flex:"0 0 80%"}},e._l(e.contractBaseList[i].fileList,function(t,n){return a("wk-file-cell",{key:n,attrs:{data:t,list:e.contractBaseList[i].fileList,index:n}})}))])}),e._v(" "),e.editAuth?a("el-button",{staticClass:"base-add-button",attrs:{plain:""},on:{click:e.contractCreateClick}},[e._v("+  添加合同")]):e._e()],2),e._v(" "),a("form-add-dialog",{ref:"formAdddialog",attrs:{title:e.formAddTitle,form:e.formAddForm,rules:e.formAddRules,fields:e.formAddFields,visible:e.formAddDialogShow},on:{"update:form":function(t){e.formAddForm=t},"update:visible":function(t){e.formAddDialogShow=t},pass:e.uploadEmployeeRelativeData,change:e.formAddDialogChange}},[a("div",{staticClass:"contract-files"},[a("wk-file-select",{staticStyle:{display:"inline-block"},attrs:{multiple:""},on:{change:e.fileSelect}},[a("el-button",{attrs:{type:"text"}},[e._v("添加合同附件")])],1),e._v(" "),e._l(e.fileList,function(t,i){return a("wk-file-cell",{key:i,attrs:{data:t,list:e.fileList,index:i,"delete-show":""},on:{delete:e.fileDelete}})})],2)])],1)},[],!1,null,"6735fe62",null));q.options.__file="EmployeeContract.vue";var U=q.exports,z=a("Qehy"),Y=a("zMw6"),H={fields:[{name:"工资卡卡号",field:"salaryCardNum",formType:"text",setting:[]},{name:"工资卡开户城市",field:"accountOpeningCity",formType:"text",setting:[]},{name:"银行名称",field:"bankName",formType:"text",setting:[]},{name:"工资卡开户行",field:"openingBank",formType:"text",setting:[]}],rules:{salaryCardNum:[{required:!0,message:"请选择",trigger:["change","blur"]}]}},G={name:"MoneyDetailDialog",components:{},mixins:[a("nboU").a],props:{detail:Object,visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,title:"明细详情",list:[]}},computed:{},watch:{visible:{handler:function(e){e&&this.getDetail()},immediate:!0}},mounted:function(){},methods:{handleCancel:function(){this.close()},close:function(){this.$emit("update:visible",!1)},getDetail:function(){var e=this;this.loading=!0,Object(z.d)(this.detail.sempRecordId).then(function(t){e.list=t.data||[],e.loading=!1}).catch(function(){e.loading=!1})}}},K=(a("O50V"),Object(D.a)(G,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"wkDialog",attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,title:e.title,width:"500px"},on:{close:e.handleCancel}},[a("div",{staticClass:"moeny-dialog-body"},[a("div",{staticClass:"money-header"},[a("div",{staticClass:"money-header__title"},[e._v(e._s(e.detail?e.detail.realSalary:0))]),e._v(" "),a("div",{staticClass:"money-header__des"},[e._v("实发金额（元）")])]),e._v(" "),e._l(e.list,function(t,i){return a("flexbox",{key:i,staticClass:"money-item"},[a("div",{staticClass:"money-item__title text-one-line"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"money-item__value"},[e._v(e._s(t.value))])])})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.handleCancel(t)}}},[e._v("关闭")])],1)])},[],!1,null,"a855f9a6",null));K.options.__file="MoneyDetailDialog.vue";var Q=K.exports;var X={getFields:function(e){return[{name:"是否本地首次缴纳社保",field:"isFirstSocialSecurity",formType:"radio",setting:[{label:"否",value:0},{label:"是",value:1}]},{name:"是否本地首次缴纳公积金",field:"isFirstAccumulationFund",formType:"radio",setting:[{label:"否",value:0},{label:"是",value:1}]},{name:"个人社保账号",field:"socialSecurityNum",formType:"text",setting:[]},{name:"个人公积金账号",field:"accumulationFundNum",formType:"text",setting:[]},{name:"参保起始月份",field:"socialSecurityStartMonth",formType:"date",disabled:!0,setting:[]},{name:"参保方案",field:"schemeId",formType:"select",setting:e||[]}]},rules:{isFirstSocialSecurity:[{required:!0,message:"请选择",trigger:["blur","change"]}],isFirstAccumulationFund:[{required:!0,message:"请选择",trigger:["blur","change"]}]}},J={name:"EmployeeMoney",components:{CreateSections:F.a,FormAddDialog:h.a,WkBaseDetailSection:A.a,MoneyDetailDialog:Q},props:{id:[String,Number]},data:function(){return{loading:!1,list:[],formAddTitle:"",formAddForm:{},formAddRules:{},formAddFields:[],formAddDialogShow:!1,cardData:null,cardList:[],securityData:null,securityList:[],schemeList:[],moneyList:[],currentPage:1,pageSize:15,pageSizes:[15,30,60,100],total:0,fieldList:[{prop:"yearMonth",label:"计薪月份",width:"150"},{prop:"time",label:"计薪周期",width:"220"},{prop:"shouldSalary",label:"应发工资"},{prop:"personalTax",label:"个人所得税"},{prop:"realSalary",label:"实发工资"}],moneyData:null,detailDialogShow:!1}},inject:["editAuth"],computed:{cardDropdownItems:function(){var e=[];return this.editAuth&&e.push({label:"编辑",command:"edit",icon:""}),e},securityDropdownItems:function(){var e=[];return this.editAuth&&e.push({label:"编辑",command:"edit",icon:""}),e}},watch:{id:{handler:function(){this.getDetail(),this.refreshList()},immediate:!0}},mounted:function(){},activated:function(){},deactivated:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(z.c)(this.id).then(function(t){var a=t.data||{};e.cardData=a.salaryCard;var i=[];H.fields.forEach(function(t){i.push({label:t.name,value:e.cardData?e.cardData[t.field]:""})}),e.cardList=i,e.securityData=a.socialSecurityInfo;var n=[];X.getFields().forEach(function(t){var a=e.securityData?e.securityData[t.field]:"";"isFirstSocialSecurity"===t.field||"isFirstAccumulationFund"===t.field?a={0:"否",1:"是"}[a]:"schemeId"===t.field&&(a=e.securityData?e.securityData.schemeName:""),n.push({label:t.name,value:a})}),e.securityList=n,e.loading=!1}).catch(function(){e.loading=!1})},cardCommandSelect:function(e){"edit"==e&&(this.formAddTitle="编辑工资卡",this.formAddForm=this.cardData?{salaryCardNum:this.cardData.salaryCardNum||"",accountOpeningCity:this.cardData.accountOpeningCity||"",bankName:this.cardData.bankName||"",openingBank:this.cardData.openingBank||"",salaryCardId:this.cardData.salaryCardId||""}:{},this.formAddRules=H.rules,this.formAddFields=H.fields,this.formAddDialogShow=!0)},securityCommandSelect:function(e){var t=this;"edit"==e&&(this.formAddTitle="编辑社保",this.formAddForm=this.securityData?{isFirstSocialSecurity:this.securityData.isFirstSocialSecurity,isFirstAccumulationFund:this.securityData.isFirstAccumulationFund,socialSecurityNum:this.securityData.socialSecurityNum,accumulationFundNum:this.securityData.accumulationFundNum,socialSecurityStartMonth:this.securityData.socialSecurityStartMonth,socialSecurityInfoId:this.securityData.socialSecurityInfoId,schemeId:this.securityData.schemeId}:{isFirstSocialSecurity:0,isFirstAccumulationFund:0},this.formAddRules=X.rules,this.getSchemList().then(function(){t.formAddFields=X.getFields(t.schemeList),t.formAddDialogShow=!0}))},getSchemList:function(){var e=this;return new l.a(function(t,a){e.schemeList.length?t():Object(Y.d)({pageType:0}).then(function(a){e.schemeList=a.data.list.map(function(e){return{label:e.schemeName,value:e.schemeId}}),t()}).catch(function(){a&&a()})})},uploadEmployeeRelativeData:function(){var e=this;this.$refs.formAdddialog.loading=!0,this.formAddForm.employeeId=this.id;var t=null;"添加工资卡"===this.formAddTitle?t=z.a:"编辑工资卡"===this.formAddTitle?t=z.f:"添加社保"===this.formAddTitle?t=z.b:"编辑社保"===this.formAddTitle&&(t=z.g),t(this.formAddForm).then(function(t){e.$refs.formAdddialog.loading=!1,e.$message.success(e.formAddTitle+"成功"),e.formAddDialogShow=!1,e.getDetail()}).catch(function(){e.$refs.formAdddialog.loading=!1})},cellClassName:function(e){e.row,e.column,e.rowIndex;return 0==e.columnIndex?"can-visit--underline":""},handleRowClick:function(e,t,a){"yearMonth"==t.property&&(this.moneyData=e,this.detailDialogShow=!0)},refreshList:function(){this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getList:function(){var e=this;this.loading=!0;var t={page:this.currentPage,limit:this.pageSize,employeeId:this.id};Object(z.e)(t).then(function(t){var a=t.data.list;a.forEach(function(e){e.time=e.startTime+" ~ "+e.endTime,e.yearMonth=e.year+"-"+e.month}),e.moneyList=a,e.total=t.data.totalRow,t.data.totalRow&&Math.ceil(t.data.totalRow/e.pageSize)<e.currentPage&&e.currentPage>1?(e.currentPage=e.currentPage-1,e.getList()):(e.total=t.data.totalRow,e.loading=!1),e.loading=!1}).catch(function(){e.loading=!1})}}},Z=(a("zEpx"),Object(D.a)(J,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"b-cont"},[a("create-sections",{attrs:{"dropdown-items":e.cardDropdownItems,title:"工资卡信息"},on:{"command-select":e.cardCommandSelect}},[a("wk-base-detail-section",{attrs:{list:e.cardList}})],1),e._v(" "),a("create-sections",{attrs:{"dropdown-items":e.securityDropdownItems,title:"社保信息"},on:{"command-select":e.securityCommandSelect}},[a("wk-base-detail-section",{attrs:{list:e.securityList}})],1),e._v(" "),a("create-sections",{staticClass:"b-cells",attrs:{title:"薪资信息"}},[a("div",{staticClass:"money-table"},[a("el-table",{attrs:{data:e.moneyList,"cell-class-name":e.cellClassName,height:"500",border:"",align:"center"},on:{"row-click":e.handleRowClick}},e._l(e.fieldList,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,width:e.width,label:e.label}})})),e._v(" "),a("div",{staticClass:"p-contianer"},[a("el-pagination",{staticClass:"p-bar",attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("form-add-dialog",{ref:"formAdddialog",attrs:{title:e.formAddTitle,form:e.formAddForm,rules:e.formAddRules,fields:e.formAddFields,visible:e.formAddDialogShow},on:{"update:form":function(t){e.formAddForm=t},"update:visible":function(t){e.formAddDialogShow=t},pass:e.uploadEmployeeRelativeData}}),e._v(" "),a("money-detail-dialog",{attrs:{detail:e.moneyData,visible:e.detailDialogShow},on:{"update:visible":function(t){e.detailDialogShow=t}}})],1)},[],!1,null,"69928ab0",null));Z.options.__file="EmployeeMoney.vue";var ee=Z.exports,te={name:"Sections",components:{},props:{title:{type:String,default:""},titles:{type:Array,default:function(){return[]}},mColor:{type:String,default:"#2362FB"},contentHeight:{type:String,default:"327px"},showNoData:{type:Boolean,default:!1},showHandle:{type:Boolean,default:!1},index:Number},data:function(){return{}},computed:{},mounted:function(){},methods:{handleTypeDrop:function(e){this.$emit("on-handle",{type:e,index:this.index})},titlesClick:function(e,t){this.$emit("on-titles-click",{item:e,itemIndex:t,index:this.index})}}},ae=(a("EYLx"),Object(D.a)(te,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"section"},[e.title&&e.title.length>0?i("div",{staticClass:"section-header"},[i("div",{staticClass:"section-mark",style:{"border-left-color":e.mColor}}),e._v(" "),i("div",{staticClass:"section-title"},[e._v(e._s(e.title))]),e._v(" "),e.showHandle?i("el-dropdown",{on:{command:e.handleTypeDrop}},[e.showHandle?i("span",{staticClass:"handle-button"},[e._v("\n        操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]):e._e(),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"edit"}},[e._v("编辑")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"delete"}},[e._v("删除")])],1)],1):e._e()],1):e._e(),e._v(" "),e.titles.length>0?i("div",{staticClass:"section-header"},[i("div",{staticClass:"section-mark",style:{"border-left-color":e.mColor}}),e._v(" "),i("el-breadcrumb",{staticStyle:{padding:"5px 0","margin-left":"8px"},attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.titles,function(t,a){return i("el-breadcrumb-item",{key:a},[i("span",{staticClass:"section-titles-name",on:{click:function(i){e.titlesClick(t,a)}}},[e._v(e._s(t))])])}))],1):e._e(),e._v(" "),i("div",{staticClass:"content",style:{height:e.contentHeight}},[e.showNoData?i("div",{staticClass:"no-data-container"},[i("img",{staticClass:"no-data",attrs:{src:a("MqKM")}}),e._v(" "),i("div",{staticClass:"no-data-name"},[e._v("暂无数据")])]):e._e(),e._v(" "),e._t("default")],2)])},[],!1,null,"40b9ed58",null));ae.options.__file="Sections.vue";var ie={name:"EmployeeFiles",components:{Sections:ae.exports},props:{id:[String,Number]},data:function(){return{loading:!1,baseList:[],recordList:[],leaveList:[],allData:[],showDetailIndex:-1,showDetailSubIndex:-1,editDetailItem:{},editDetailIndex:-1,editInputContent:"",detailList:[]}},inject:["editAuth"],computed:{},watch:{id:{handler:function(){this.initInfo(),this.getBaseInfo()},immediate:!0}},mounted:function(){},activated:function(){},deactivated:function(){},methods:{initInfo:function(){this.showDetailIndex=-1,this.showDetailSubIndex=-1,this.editDetailItem={},this.editDetailIndex=-1,this.editInputContent="",this.detailList=[],this.baseList=[{name:"身份证原件照片",icon:"wk wk-icon-credentials",count:0,subType:11},{name:"学历证明",icon:"wk wk-icon-medal",count:0,subType:12},{name:"个人证件照",icon:"wk wk-icon-my",count:0,subType:13},{name:"身份证复印件",icon:"wk wk-icon-copy",count:0,subType:14},{name:"工资银行卡",icon:"wk wk-icon-bankcard",count:0,subType:15},{name:"社保卡",icon:"wk wk-icon-license",count:0,subType:16},{name:"公积金卡",icon:"wk wk-icon-home",count:0,subType:17},{name:"获奖证书",icon:"wk wk-icon-barrage",count:0,subType:18},{name:"其他",icon:"wk wk-icon-setup",count:0,subType:19}],this.recordList=[{name:"劳动合同",icon:"wk wk-icon-star-contract",count:0,subType:21},{name:"入职简历",icon:"wk wk-icon-personal-data",count:0,subType:22},{name:"入职登记表",icon:"wk wk-icon-handle-log",count:0,subType:23},{name:"入职体检单",icon:"wk wk-icon-health-data",count:0,subType:24},{name:"上家公司离职证明",icon:"wk wk-icon-bevel-contract",count:0,subType:25},{name:"转正申请表",icon:"wk wk-icon-contract",count:0,subType:26},{name:"其他",icon:"wk wk-icon-setup",count:0,subType:27}],this.leaveList=[{name:"离职审批",icon:"wk wk-icon-seal",count:0,subType:31},{name:"离职证明",icon:"wk wk-icon-forbid-user",count:0,subType:32},{name:"其他",icon:"wk wk-icon-setup",count:0,subType:33}],this.allData=[{name:["员工基本资料"],list:this.baseList,unfold:!1},{name:["员工档案资料"],list:this.recordList,unfold:!1},{name:["员工离职资料"],list:this.leaveList,unfold:!1}]},getBaseInfo:function(){var e=this;Object(o.A)(this.id).then(function(t){for(var a=t.data||{},i=0;i<e.baseList.length;i++){var n=e.baseList[i];n.count=a["subType"+n.subType]}for(var o=0;o<e.recordList.length;o++){var s=e.recordList[o];s.count=a["subType"+s.subType]}for(var r=0;r<e.leaveList.length;r++){var l=e.leaveList[r];l.count=a["subType"+l.subType]}}).catch(function(){})},fileUpload:function(e){var t=this;this.$wkUploadFile.upload({request:N.g,file:e.file}).then(function(e){t.loading=!0;var a=t.allData[t.showDetailIndex].list[t.showDetailSubIndex];Object(o.x)({employeeId:t.id,subType:a.subType,fileId:e.res.data.fileId}).then(function(e){t.loading=!1,t.getSubDetail()}).catch(function(){t.loading=!1})}).catch(function(){})},checkDetail:function(e,t,a,i){e.name.push(a.name),this.showDetailIndex=t,this.showDetailSubIndex=i,this.getSubDetail()},previewDetail:function(e,t,a,i){var n=this;this.loading=!0,Object(o.z)({employeeId:this.id,subType:a.subType}).then(function(e){n.loading=!1;var t=e.data.map(function(e){return e.file});n.$wkPreviewFile.preview({index:0,data:t})}).catch(function(){n.loading=!1})},getSubDetail:function(){var e=this;this.loading=!0;var t=this.allData[this.showDetailIndex].list[this.showDetailSubIndex];Object(o.z)({employeeId:this.id,subType:t.subType}).then(function(t){e.detailList=t.data,e.loading=!1}).catch(function(){e.loading=!1})},handleDetailItemClick:function(e,t,a){var i=this;if("edit"==e){this.editDetailItem=t,this.editDetailIndex=a,this.editInputContent=t.file.name;var n=this;setTimeout(function(){n.$refs.editInput[0].focus()},100)}else"delete"==e?this.$confirm("您确定要删除此附件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.y)(t.employeeFileId).then(function(e){i.detailList.splice(a,1),i.$message.success("删除成功")}).catch(function(){})}).catch(function(){i.$message({type:"info",message:"已取消操作"})}):"download"==e&&Object(N.c)(t.fileId).then(function(e){var a=new Blob([e.data],{type:""});Object(y.e)(a,t.file.name)}).catch(function(){})},editInputBlur:function(){var e=this;this.loading=!0,Object(N.f)({fileId:this.editDetailItem.fileId,name:this.editInputContent}).then(function(t){e.editDetailIndex=-1,e.editDetailItem.file.name=e.editInputContent,e.editInputContent="",e.editDetailItem={},e.$message.success("编辑成功"),e.loading=!1}).catch(function(){e.loading=!1})},onTitlesClick:function(e){var t=this.allData[e.index];t.name.length>1&&(t.name=t.name.splice(0,1),this.showDetailIndex=-1,this.showDetailSubIndex=-1,this.detailList=[])},previewFile:function(e,t){var a=this.detailList.map(function(e){return e.file});this.$wkPreviewFile.preview({index:t,data:a})},getFileTypeIcon:function(e){var t=e?e.split("."):[],a="";return a=t.length>0?t[t.length-1]:"",Object(y.n)(a)},isShowImage:function(e){var t=e?e.split("."):[],a="";return a=t.length>0?t[t.length-1]:"",["jpg","png","gif","jpeg"].includes(a.toLowerCase())},unfloadFiles:function(e,t){e.unfold=!e.unfold}}},ne=(a("6fkd"),Object(D.a)(ie,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"contianer"},[a("div",e._l(e.allData,function(t,i){return 1==t.name.length&&-1==e.showDetailIndex||t.name.length>1&&e.showDetailIndex==i?a("sections",{key:i,staticClass:"file-sections",attrs:{index:i,titles:t.name,"content-height":"auto"},on:{"on-titles-click":e.onTitlesClick}},[1==t.name.length&&-1==e.showDetailIndex?a("div",{staticClass:"files-box-class"},[a("flexbox",{attrs:{gutter:0,wrap:"wrap"}},[e._l(t.unfold?t.list:t.list.slice().splice(0,2),function(n,o){return a("flexbox-item",{key:o,staticClass:"cell",attrs:{span:.25}},[a("div",{staticClass:"cell-box"},[a("div",{staticClass:"cell-body"},[a("i",{staticClass:"cell-body-icon",class:n.icon})]),e._v(" "),a("div",{staticClass:"cell-footer"},[e._v("\n                "+e._s(n.name)),n.count>0?a("span",[e._v("（"+e._s(n.count)+"）")]):e._e()]),e._v(" "),a("div",{staticClass:"cell-handle"},[a("div",{staticClass:"handle-items"},[n.count>0?a("span",{staticClass:"handle-item",on:{click:function(a){e.previewDetail(t,i,n,o)}}},[a("i",{staticClass:"wk wk-icon-eye-solid"})]):e._e(),e._v(" "),a("span",{staticClass:"handle-item",on:{click:function(a){e.checkDetail(t,i,n,o)}}},[a("i",{staticClass:"wk wk-folder"})])])])])])}),e._v(" "),a("flexbox-item",{staticClass:"cell",attrs:{span:.25}},[a("div",{staticClass:"cell-unfold-box"},[t.unfold?a("flexbox",{staticClass:"unfold-button unfold-button-positon",nativeOn:{click:function(a){e.unfloadFiles(t,i)}}},[a("i",{staticClass:"el-icon-d-arrow-left unfold-button-icon"}),e._v(" "),a("div",{staticClass:"unfold-button-name"},[e._v("收起")])]):a("flexbox",{staticClass:"unfold-button unfold-button-positon",nativeOn:{click:function(a){e.unfloadFiles(t,i)}}},[a("div",{staticClass:"more-button-name"},[e._v("更多")]),e._v(" "),a("i",{staticClass:"el-icon-d-arrow-right more-button-icon"})])],1)])],2)],1):e._e(),e._v(" "),t.name.length>1&&e.showDetailIndex==i?a("div",{staticClass:"files-box-detail"},[a("flexbox",{attrs:{gutter:0,wrap:"wrap"}},[e.editAuth?a("flexbox-item",{staticClass:"detail-cell",attrs:{span:1/3}},[a("div",{staticClass:"cell-upload-box"},[a("el-upload",{attrs:{"show-file-list":!1,"http-request":e.fileUpload,action:"http",drag:"",multiple:""}},[a("i",{staticClass:"wk wk-icon-upload upload-icon"}),e._v(" "),a("div",{staticClass:"upload-name"},[e._v("点击或拖拽上传")])])],1)]):e._e(),e._v(" "),e._l(e.detailList,function(t,i){return a("flexbox-item",{key:i,staticClass:"detail-cell",attrs:{span:1/3}},[a("div",{staticClass:"detail-cell-box"},[a("div",{staticClass:"detail-cell-body"},[a("span",[e.isShowImage(t.file.name)?a("img",{directives:[{name:"src",rawName:"v-src",value:t.file.url,expression:"item.file.url"}],key:t.file.url}):e._e(),e._v(" "),e.isShowImage(t.file.name)?e._e():a("img",{directives:[{name:"src",rawName:"v-src",value:e.getFileTypeIcon(t.file.url),expression:"getFileTypeIcon(item.file.url)"}],key:t.file.url})]),e._v(" "),a("div",{staticClass:"body-handle"},[a("div",{staticClass:"handle-items"},[a("span",{staticClass:"handle-item",on:{click:function(a){e.previewFile(t,i)}}},[a("i",{staticClass:"wk wk-icon-eye-solid"})])])])]),e._v(" "),a("flexbox",{staticClass:"detail-cell-footer"},[e.editDetailIndex!=i?a("div",{staticClass:"footer-name"},[e._v(e._s(t.file.name))]):e._e(),e._v(" "),e.editDetailIndex==i?a("el-input",{ref:"editInput",refInFor:!0,attrs:{autofocus:"",placeholder:"请输入内容"},on:{blur:e.editInputBlur},model:{value:e.editInputContent,callback:function(t){e.editInputContent=t},expression:"editInputContent"}}):e._e(),e._v(" "),e.editAuth?a("i",{staticClass:"wk wk-edit footer-item",on:{click:function(a){e.handleDetailItemClick("edit",t,i)}}}):e._e(),e._v(" "),e.editAuth?a("i",{staticClass:"wk wk-s-delete footer-item",on:{click:function(a){e.handleDetailItemClick("delete",t,i)}}}):e._e(),e._v(" "),a("i",{staticClass:"wk wk-b-download footer-item",on:{click:function(a){e.handleDetailItemClick("download",t,i)}}})],1)],1)])})],2)],1):e._e()]):e._e()}))])},[],!1,null,"168bdb36",null));ne.options.__file="EmployeeFiles.vue";var oe=ne.exports,se=a("CUKw"),re={name:"EmployeeHandle",components:{},props:{id:[String,Number]},data:function(){return{loading:!1,list:[]}},computed:{},watch:{id:function(e){this.list=[],this.getDetail()}},mounted:function(){this.getDetail()},activated:function(){},deactivated:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(se.a)({type:1,typeId:this.id}).then(function(t){e.loading=!1;var a=t.data||[];a.forEach(function(e){e.content=e.content?JSON.parse(e.content):[]}),e.list=a}).catch(function(){e.loading=!1})},getYMDFormaterTime:function(e){return Object(y.C)(e)},getWeekFormaterTime:function(e){return Object(y.C)(e,"dddd")},getTimeFormaterTime:function(e){return Object(y.C)(e,"H:mm")}}},le=(a("erCq"),Object(D.a)(re,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"rc-cont"},e._l(e.list,function(t,i){return a("flexbox",{key:i,staticClass:"ha-cont",attrs:{align:"stretch",justify:"flex-start"}},[a("div",{staticClass:"ha-week"},[a("div",[e._v(e._s(e.getYMDFormaterTime(t.createTime)))]),e._v(" "),a("div",[e._v(e._s(e.getWeekFormaterTime(t.createTime)))])]),e._v(" "),a("div",{staticClass:"ha-circle"}),e._v(" "),a("div",{staticClass:"ha-time"},[e._v(e._s(e.getTimeFormaterTime(t.createTime)))]),e._v(" "),a("div",{staticClass:"ha-name"},[e._v(e._s(t.realname))]),e._v(" "),a("div",{staticClass:"ha-content"},e._l(t.content,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})),e._v(" "),a("div",{staticClass:"ha-line"})])}))},[],!1,null,"6f60321c",null));le.options.__file="EmployeeHandle.vue";var ce=le.exports,de=a("UzdC"),ue=a("L2JU"),fe={name:"EmpolyeeDetail",components:{WkDetailHeader:de.a,SlideView:s.a,EmployeePostInfo:T,EmployeeBaseInfo:E,EmployeeContract:U,EmployeeMoney:ee,EmployeeFiles:oe,EmployeeHandle:ce,FormAddDialog:h.a},mixins:[],props:{id:[String,Number],listenerIDs:{type:Array,default:function(){return["crm-main-container"]}},noListenerIDs:{type:Array,default:function(){return[]}},noListenerClass:{type:Array,default:function(){return["el-table__body"]}}},data:function(){return{loading:!1,detailData:null,tabNames:[{label:"岗位信息",name:"EmployeePostInfo"},{label:"基本信息",name:"EmployeeBaseInfo"},{label:"员工合同",name:"EmployeeContract"},{label:"工资社保",name:"EmployeeMoney"},{label:"材料附件",name:"EmployeeFiles"},{label:"操作记录",name:"EmployeeHandle"}],tabCurrentName:"EmployeePostInfo",formAddCommond:"",formAddTitle:"",formAddForm:{},formAddRules:{},formAddFields:[],formAddDialogShow:!1}},provide:function(){return{editAuth:this.editAuth}},computed:n()({},Object(ue.b)(["hrm"]),{employeeAuth:function(){return this.hrm.employee},deleteAuth:function(){return this.employeeAuth&&this.employeeAuth.delete},editAuth:function(){return this.employeeAuth&&this.employeeAuth.update},tabName:function(){return"EmployeePostInfo"==this.tabCurrentName?"EmployeePostInfo":"EmployeeBaseInfo"==this.tabCurrentName?"EmployeeBaseInfo":"EmployeeContract"==this.tabCurrentName?"EmployeeContract":"EmployeeMoney"==this.tabCurrentName?"EmployeeMoney":"EmployeeFiles"==this.tabCurrentName?"EmployeeFiles":"EmployeeHandle"==this.tabCurrentName?"EmployeeHandle":""},dropdownItems:function(){var e=[];return this.deleteAuth&&e.push({icon:"wk wk-delete",label:"删除",command:"delete"}),e}}),watch:{id:function(e){this.getDetail()}},mounted:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(o.D)(this.id).then(function(t){e.loading=!1;var a=t.data||{};a.entryTime=Object(y.C)(a.entryTime),e.detailData=a}).catch(function(){e.loading=!1})},getEmployeeStatusName:function(e){return e?w.d.statusValue[parseInt(e)]:""},hideView:function(){this.$emit("close")},commandSelect:function(e){var t=this;this.formAddCommond=e,"delete"==e&&this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.k)([t.id]).then(function(a){t.$message({type:"success",message:"删除成功"}),t.$emit("handle",{type:e})}).catch(function(){})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},relativeHandle:function(e){this.$emit("handle",e)},formAddPass:function(){var e=this;this.$refs.formAdddialog.loading=!0,this.formAddForm.employeeId=this.handleRowData.employeeId;null(this.formAddForm).then(function(t){e.$refs.formAdddialog.loading=!1,e.$message.success(e.formAddTitle+"成功"),e.formAddDialogShow=!1,e.getTabsNum(),e.getList()}).catch(function(){e.$refs.formAdddialog.loading=!1})}}},me=(a("8JBq"),Object(D.a)(fe,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide-view",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"d-view",attrs:{"listener-ids":e.listenerIDs,"no-listener-ids":e.noListenerIDs,"no-listener-class":e.noListenerClass,"body-style":{padding:0,height:"100%",background:"white"}},on:{afterEnter:e.getDetail,close:e.hideView}},[e.detailData?a("flexbox",{staticClass:"side-detail-main",staticStyle:{padding:"0 15px"},attrs:{direction:"column",align:"stretch"}},[a("wk-detail-header",{attrs:{"dropdown-items":e.dropdownItems},on:{"command-select":e.commandSelect}},[a("div",{staticClass:"employee-header",attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"employee-header__top"},[a("span",{staticClass:"name"},[e._v(e._s(e.detailData.employeeName))]),e._v(" "),a("span",{staticClass:"post"},[e._v(e._s(e.detailData.post))])]),e._v(" "),a("div",{staticClass:"employee-header__bottom"},[1===e.detailData.sex||2===e.detailData.sex?a("el-tag",{staticClass:"xr-sex-tag",class:{1:"is-man",2:"is-woman"}[e.detailData.sex],attrs:{"disable-transitions":"",size:"mini"}},[a("i",{class:{1:"wk wk-man",2:"wk wk-woman"}[e.detailData.sex]})]):e._e(),e._v(" "),a("el-tooltip",{attrs:{content:"工号："+(e.detailData.jobNumber||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-work-card"}),e._v(e._s(e.detailData.jobNumber||"--")+"\n            ")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"部门："+(e.detailData.deptName||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-layer"}),e._v(e._s(e.detailData.deptName||"--")+"\n            ")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"员工状态："+(e.getEmployeeStatusName(e.detailData.status)||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-time"}),e._v(e._s(e.getEmployeeStatusName(e.detailData.status)||"--")+"\n            ")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"入职日期："+(e.detailData.entryTime||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-status"}),e._v(e._s(e.detailData.entryTime||"--")+"\n            ")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"年龄："+(e.detailData.age||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-cake"}),e._v(e._s(e.detailData.age||"--")+"\n            ")])],1)],1)])]),e._v(" "),a("el-tabs",{staticClass:"side-detail__tabs--default",model:{value:e.tabCurrentName,callback:function(t){e.tabCurrentName=t},expression:"tabCurrentName"}},e._l(e.tabNames,function(t,i){return a("el-tab-pane",{key:i,attrs:{label:t.label,name:t.name,lazy:""}},[a(t.name,{tag:"component",staticClass:"side-detail-tabs-content",staticStyle:{padding:"15px 10px"},attrs:{id:e.id,detail:e.detailData},on:{handle:e.relativeHandle}})],1)}))],1):e._e(),e._v(" "),a("form-add-dialog",{ref:"formAdddialog",attrs:{title:e.formAddTitle,form:e.formAddForm,rules:e.formAddRules,fields:e.formAddFields,visible:e.formAddDialogShow},on:{"update:form":function(t){e.formAddForm=t},"update:visible":function(t){e.formAddDialogShow=t},pass:e.formAddPass}})],1)},[],!1,null,"1618e18c",null));me.options.__file="EmployeeDetail.vue";t.a=me.exports},Wpxb:function(e,t,a){"use strict";var i=a("+VoU");a.n(i).a},"X+Pv":function(e,t,a){"use strict";var i=a("Ed9r");a.n(i).a},Y5Xo:function(e,t,a){},ZrcA:function(e,t,a){"use strict";var i=a("SFtu");a.n(i).a},ZuLw:function(e,t,a){"use strict";a.r(t);var i=a("QbLZ"),n=a.n(i),o=a("t3Un");function s(e){return Object(o.a)({url:"hrmDashboard/queryNotesStatus",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(o.a)({url:"hrmDashboard/queryNotesByTime",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(o.a)({url:"hrmDashboard/myNotesByTime",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(o.a)({url:"hrmDashboard/myNotesStatus",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}var d=a("9I6p"),u={name:"WbSection",components:{},props:{headerShow:{type:Boolean,default:!0},label:String,des:String,icon:{type:String,default:"wk wk-funnel-solid"}},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{}},f=(a("E1Ow"),a("KHd+")),m=Object(f.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"wk-section"},[e.headerShow?a("div",{staticClass:"wk-section__header"},[a("i",{staticClass:"wk-section__icon",class:e.icon}),e._v(" "),a("span",{staticClass:"wk-section__label"},[e._v(e._s(e.label))]),e._v(" "),a("span",{staticClass:"wk-section__des"},[e._v(e._s(e.des))])]):e._e(),e._v(" "),e._t("default")],2)},[],!1,null,"4394f1a3",null);m.options.__file="WbSection.vue";var h=m.exports,b={name:"WbItem",components:{},props:{label:String,value:[String,Number],index:[String,Number],disabled:Boolean,unit:{type:String,default:"人"}},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{valueClick:function(){this.disabled||this.$emit("select",this.index)}}},p=(a("ZrcA"),Object(f.a)(b,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wb-item"},[a("div",{staticClass:"wb-item__label"},[e._v(e._s(e.label))]),e._v(" "),a("div",{staticClass:"wb-item__value"},[a("span",{class:{"can-visit--underline":!e.disabled},on:{click:e.valueClick}},[e._v(e._s(e.value))]),e._v(" "),a("span",{staticClass:"wb-item__unit"},[e._v(e._s(e.unit))])])])},[],!1,null,"119efb13",null));p.options.__file="WbItem.vue";var v=p.exports,y={name:"WbPerformance",components:{WbSection:h,WbItem:v},props:{},data:function(){return{fieldList:[{label:"目标待填写",key:7,name:"my",num:0},{label:"目标待确认",name:"target",key:2,num:0},{label:"结果待评定",name:"evaluato",key:5,num:0},{label:"结果待确认",name:"result",key:4,num:0}]}},computed:{},watch:{},created:function(){this.getDetail()},beforeDestroy:function(){},methods:{getDetail:function(){var e=this;Object(d.h)().then(function(t){var a=t.data||{};e.fieldList.forEach(function(e,t){e.num=a[e.key]||0})}).catch(function(){})},itemClick:function(e){var t=this.fieldList[e];this.$router.push({name:"myPerformance",query:{tabType:t.name,subTabType:"0"}})}}},g=(a("aITK"),Object(f.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-performance",attrs:{icon:"wk wk-perform",label:"绩效管理"}},[a("flexbox",{staticClass:"body",attrs:{wrap:"wrap"}},e._l(e.fieldList,function(t,i){return a("wb-item",{key:i,attrs:{index:i,label:t.label,value:t.num,unit:""},on:{select:e.itemClick}})}))],1)},[],!1,null,"287f2da4",null));g.options.__file="WbPerformance.vue";var w=g.exports,_=a("wd/R"),C=a.n(_),D={name:"WbSurvey",components:{WbSection:h},props:{},data:function(){return{detail:null}},computed:{},watch:{},created:function(){this.getDetail()},beforeDestroy:function(){},methods:{getDetail:function(){var e=this;Object(o.a)({url:"hrmDashboard/mySurvey",method:"post"}).then(function(t){var a=t.data||{};a.becomeTime&&C()().isBefore(C()(a.becomeTime))?a.becomeTimeShow=!0:a.becomeTimeShow=!1,e.detail=a}).catch(function(){})},enterMySlip:function(){this.$router.push({name:"mySalarySlip"})}}},k=(a("gxVy"),Object(f.a)(D,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-survey-wrap",attrs:{"header-show":!1}},[e.detail?a("flexbox",{staticClass:"wb-survey",attrs:{align:"stretch"}},[a("div",{staticClass:"wb-survey__left"},[a("xr-avatar",{key:e.detail.employeeName,attrs:{name:e.detail.employeeName,size:60,src:e.detail.img}})],1),e._v(" "),a("div",{staticClass:"wb-survey__right user"},[a("div",{staticClass:"user__name"},[e._v("Hi，"+e._s(e.detail.employeeName))]),e._v(" "),a("div",{staticClass:"user__des"},[e._v("这是你在"+e._s(e.detail.companyName)+"的第"),a("span",[e._v(e._s(e.detail.entryDay))]),e._v("天")]),e._v(" "),a("div",{staticClass:"user__content"},[a("div",{staticClass:"user-item"},[e._v("部门  "),a("span",[e._v(e._s(e.detail.deptName))]),e._v("，岗位  "),a("span",[e._v(e._s(e.detail.post))]),e._v("，")]),e._v(" "),a("div",{staticClass:"user-item"},[e._v("工号  "),a("span",[e._v(e._s(e.detail.jobNumber))]),e._v("，")]),e._v(" "),a("div",{staticClass:"user-item"},[a("span",[e._v(e._s(e._f("moment")(e.detail.entryTime,"YYYY-MM-DD")))]),e._v("入职"),e.detail.becomeTimeShow?[e._v("，")]:e._e()],2),e._v(" "),e.detail.becomeTimeShow?a("div",{staticClass:"user-item"},[e._v("将于"),a("span",[e._v(e._s(e._f("moment")(e.detail.becomeTime,"YYYY-MM-DD")))]),e._v("转正")]):e._e(),e._v(" "),e.detail.slipRemarks?a("div",{staticClass:"user-item is-visit",on:{click:e.enterMySlip}},[e._v(e._s(e.detail.slipRemarks))]):e._e()])])]):e._e()],1)},[],!1,null,"37813c5a",null));k.options.__file="WbSurvey.vue";var T=k.exports,F=a("P2sY"),A=a.n(F),x={lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],Gan:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Zhi:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],solarTerm:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],nStr1:["日","一","二","三","四","五","六","七","八","九","十"],nStr2:["初","十","廿","卅"],nStr3:["正","二","三","四","五","六","七","八","九","十","冬","腊"],lYearDays:function(e){var t,a=348;for(t=32768;t>8;t>>=1)a+=x.lunarInfo[e-1900]&t?1:0;return a+x.leapDays(e)},leapMonth:function(e){return 15&x.lunarInfo[e-1900]},leapDays:function(e){return x.leapMonth(e)?65536&x.lunarInfo[e-1900]?30:29:0},monthDays:function(e,t){return t>12||t<1?-1:x.lunarInfo[e-1900]&65536>>t?30:29},solarDays:function(e,t){if(t>12||t<1)return-1;var a=t-1;return 1==a?e%4==0&&e%100!=0||e%400==0?29:28:x.solarMonth[a]},toGanZhiYear:function(e){var t=(e-3)%10,a=(e-3)%12;return 0==t&&(t=10),0==a&&(a=12),x.Gan[t-1]+x.Zhi[a-1]},toAstro:function(e,t){return"魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".substr(2*e-(t<[20,19,21,21,21,22,23,23,23,23,22,22][e-1]?2:0),2)+"座"},toGanZhi:function(e){return x.Gan[e%10]+x.Zhi[e%12]},getTerm:function(e,t){if(e<1900||e>2100)return-1;if(t<1||t>24)return-1;var a=x.sTermInfo[e-1900],i=[parseInt("0x"+a.substr(0,5)).toString(),parseInt("0x"+a.substr(5,5)).toString(),parseInt("0x"+a.substr(10,5)).toString(),parseInt("0x"+a.substr(15,5)).toString(),parseInt("0x"+a.substr(20,5)).toString(),parseInt("0x"+a.substr(25,5)).toString()],n=[i[0].substr(0,1),i[0].substr(1,2),i[0].substr(3,1),i[0].substr(4,2),i[1].substr(0,1),i[1].substr(1,2),i[1].substr(3,1),i[1].substr(4,2),i[2].substr(0,1),i[2].substr(1,2),i[2].substr(3,1),i[2].substr(4,2),i[3].substr(0,1),i[3].substr(1,2),i[3].substr(3,1),i[3].substr(4,2),i[4].substr(0,1),i[4].substr(1,2),i[4].substr(3,1),i[4].substr(4,2),i[5].substr(0,1),i[5].substr(1,2),i[5].substr(3,1),i[5].substr(4,2)];return parseInt(n[t-1])},toChinaMonth:function(e){if(e>12||e<1)return-1;var t=x.nStr3[e-1];return t+="月"},toChinaDay:function(e){var t;switch(e){case 10:t="初十";break;case 20:t="二十";break;case 30:t="三十";break;default:t=x.nStr2[Math.floor(e/10)],t+=x.nStr1[e%10]}return t},getAnimal:function(e){return x.Animals[(e-4)%12]},solar2lunar:function(e,t,a){if(e<1900||e>2100)return-1;if(1900==e&&1==t&&a<31)return-1;if(e)i=new Date(e,parseInt(t)-1,a);else var i=new Date;var n,o=0,s=(e=i.getFullYear(),t=i.getMonth()+1,a=i.getDate(),(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())-Date.UTC(1900,0,31))/864e5);for(n=1900;n<2101&&s>0;n++)s-=o=x.lYearDays(n);s<0&&(s+=o,n--);var r=new Date,l=!1;r.getFullYear()==e&&r.getMonth()+1==t&&r.getDate()==a&&(l=!0);var c=i.getDay(),d=x.nStr1[c];0==c&&(c=7);var u=n,f=x.leapMonth(n),m=!1;for(n=1;n<13&&s>0;n++)f>0&&n==f+1&&0==m?(--n,m=!0,o=x.leapDays(u)):o=x.monthDays(u,n),1==m&&n==f+1&&(m=!1),s-=o;0==s&&f>0&&n==f+1&&(m?m=!1:(m=!0,--n)),s<0&&(s+=o,--n);var h=n,b=s+1,p=t-1,v=x.toGanZhiYear(u),y=x.getTerm(u,2*t-1),g=x.getTerm(u,2*t),w=x.toGanZhi(12*(e-1900)+t+11);a>=y&&(w=x.toGanZhi(12*(e-1900)+t+12));var _=!1,C=null;y==a&&(_=!0,C=x.solarTerm[2*t-2]),g==a&&(_=!0,C=x.solarTerm[2*t-1]);var D=Date.UTC(e,p,1,0,0,0,0)/864e5+25567+10,k=x.toGanZhi(D+a-1),T=x.toAstro(t,a);return{lYear:u,lMonth:h,lDay:b,Animal:x.getAnimal(u),IMonthCn:(m?"闰":"")+x.toChinaMonth(h),IDayCn:x.toChinaDay(b),cYear:e,cMonth:t,cDay:a,gzYear:v,gzMonth:w,gzDay:k,isToday:l,isLeap:m,nWeek:c,ncWeek:"星期"+d,isTerm:_,Term:C,astro:T}},lunar2solar:function(e,t,a,i){i=!!i;var n=x.leapMonth(e);if(i&&n!=t)return-1;if(2100==e&&12==t&&a>1||1900==e&&1==t&&a<31)return-1;var o=x.monthDays(e,t),s=o;if(i&&(s=x.leapDays(e,t)),e<1900||e>2100||a>s)return-1;for(var r=0,l=1900;l<e;l++)r+=x.lYearDays(l);var c=0,d=!1;for(l=1;l<t;l++)c=x.leapMonth(e),d||c<=l&&c>0&&(r+=x.leapDays(e),d=!0),r+=x.monthDays(e,l);i&&(r+=o);var u=Date.UTC(1900,1,30,0,0,0),f=new Date(864e5*(r+a-31)+u),m=f.getUTCFullYear(),h=f.getUTCMonth()+1,b=f.getUTCDate();return x.solar2lunar(m,h,b)}},S=x,I={name:"WkCalendar",props:{multi:{type:Boolean,default:!1},range:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},begin:{type:Array,default:function(){return[]}},end:{type:Array,default:function(){return[]}},zero:{type:Boolean,default:!1},disabled:{type:Array,default:function(){return[]}},lunar:{type:Boolean,default:!1},weeks:{type:Array,default:function(){return"zh-cn"==window.navigator.language.toLowerCase()?["日","一","二","三","四","五","六"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},months:{type:Array,default:function(){return"zh-cn"==window.navigator.language.toLowerCase()?["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]:["January","February","March","April","May","June","July","August","September","October","November","December"]}},events:{type:Array,default:function(){return[]}}},data:function(){return{years:[],yearsShow:!1,year:0,month:0,day:0,days:[],multiDays:[],today:[],festival:{lunar:{"1-1":"春节","1-15":"元宵节","2-2":"龙头节","5-5":"端午节","7-7":"七夕节","7-15":"中元节","8-15":"中秋节","9-9":"重阳节","10-1":"寒衣节","10-15":"下元节","12-8":"腊八节","12-23":"祭灶节"},gregorian:{"1-1":"元旦","2-14":"情人节","3-8":"妇女节","3-12":"植树节","4-5":"清明节","5-1":"劳动节","5-4":"青年节","6-1":"儿童节","7-1":"建党节","8-1":"建军节","9-10":"教师节","10-1":"国庆节","12-24":"平安夜","12-25":"圣诞节"}},rangeBegin:[],rangeEnd:[],selectValue:[]}},watch:{events:function(){this.render(this.year,this.month)},value:function(){this.selectValue=this.value,this.init()}},mounted:function(){this.selectValue=this.value,this.init()},methods:{init:function(){var e=new Date;if(this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.value.length>0)if(this.range){this.year=parseInt(this.value[0][0]),this.month=parseInt(this.value[0][1])-1,this.day=parseInt(this.value[0][2]);var t=parseInt(this.value[1][0]),a=parseInt(this.value[1][1])-1,i=parseInt(this.value[1][2]);this.rangeBegin=[this.year,this.month,this.day],this.rangeEnd=[t,a,i]}else this.multi?(this.multiDays=this.value,this.year=parseInt(this.value[0][0]),this.month=parseInt(this.value[0][1])-1,this.day=parseInt(this.value[0][2])):(this.year=parseInt(this.value[0]),this.month=parseInt(this.value[1])-1,this.day=parseInt(this.value[2]));this.render(this.year,this.month)},selectDay:function(e,t,a){this.year=e,this.month=t-1,this.day=a,this.selectValue=[this.year,t,a],this.renderWithValue(this.year,this.month,this.selectValue)},render:function(e,t){this.renderWithValue(e,t,this.selectValue)},renderWithValue:function(e,t,a){var i=this,n=new Date(e,t,1).getDay(),o=new Date(e,t+1,0).getDate(),s=new Date(e,t,0).getDate();this.year=e;var r=a,l=void 0,c=0,d=[],u=1;for(l=1;l<=o;l++){var f=new Date(e,t,l).getDay(),m=void 0;if(0==f)d[c]=[];else if(1==l){d[c]=[],m=s-n+1;for(var h=0;h<n;h++){var b=e,p=t;0===t&&(b=e-1,p=12),d[c].push(A()({day:m,disabled:!0,year:b,month:p},this.getLunarInfo(this.computedPrevYear(),this.computedPrevMonth(!0),m),this.getEvents(this.computedPrevYear(),this.computedPrevMonth(!0),m))),m++}}if(this.range){var v=A()({day:l},this.getLunarInfo(this.year,this.month+1,l),this.getEvents(this.year,this.month+1,l));if(this.rangeBegin.length>0){var y=Number(new Date(this.rangeBegin[0],this.rangeBegin[1],this.rangeBegin[2])),g=Number(new Date(this.rangeEnd[0],this.rangeEnd[1],this.rangeEnd[2])),w=Number(new Date(this.year,this.month,l));y<=w&&g>=w&&(v.selected=!0)}if(this.begin.length>0)Number(new Date(parseInt(this.begin[0]),parseInt(this.begin[1])-1,parseInt(this.begin[2])))>Number(new Date(this.year,this.month,l))&&(v.disabled=!0);if(this.end.length>0)Number(new Date(parseInt(this.end[0]),parseInt(this.end[1])-1,parseInt(this.end[2])))<Number(new Date(this.year,this.month,l))&&(v.disabled=!0);this.disabled.length>0&&this.disabled.filter(function(e){return i.year===e[0]&&i.month===e[1]-1&&l===e[2]}).length>0&&(v.disabled=!0),d[c].push(v)}else if(this.multi){var _=void 0;if(a.filter(function(e){return i.year===e[0]&&i.month===e[1]-1&&l===e[2]}).length>0)_=A()({day:l,selected:!0},this.getLunarInfo(this.year,this.month+1,l),this.getEvents(this.year,this.month+1,l));else{if(_=A()({day:l,selected:!1},this.getLunarInfo(this.year,this.month+1,l),this.getEvents(this.year,this.month+1,l)),this.begin.length>0)Number(new Date(parseInt(this.begin[0]),parseInt(this.begin[1])-1,parseInt(this.begin[2])))>Number(new Date(this.year,this.month,l))&&(_.disabled=!0);if(this.end.length>0)Number(new Date(parseInt(this.end[0]),parseInt(this.end[1])-1,parseInt(this.end[2])))<Number(new Date(this.year,this.month,l))&&(_.disabled=!0);this.disabled.length>0&&this.disabled.filter(function(e){return i.year===e[0]&&i.month===e[1]-1&&l===e[2]}).length>0&&(_.disabled=!0)}d[c].push(_)}else{var C=new Date,D=C.getFullYear(),k=C.getMonth(),T=C.getDate();if(parseInt(r[0])==this.year&&parseInt(r[1])-1==this.month&&parseInt(r[2])==l)d[c].push(A()({day:l,selected:!0,year:e,month:t+1},{isToday:this.year==D&&this.month==k&&T==l},this.getLunarInfo(this.year,this.month+1,l),this.getEvents(this.year,this.month+1,l))),this.today=[c,d[c].length-1];else if(D==this.year&&k==this.month&&l==this.day&&""==a)d[c].push(A()({day:l,selected:!0,year:e,month:t+1},{isToday:this.year==D&&this.month==k&&T==l},this.getLunarInfo(this.year,this.month+1,l),this.getEvents(this.year,this.month+1,l))),this.today=[c,d[c].length-1];else{var F=A()({day:l,selected:!1,year:e,month:t+1},{isToday:this.year==D&&this.month==k&&T==l},this.getLunarInfo(this.year,this.month+1,l),this.getEvents(this.year,this.month+1,l));if(this.begin.length>0)Number(new Date(parseInt(this.begin[0]),parseInt(this.begin[1])-1,parseInt(this.begin[2])))>Number(new Date(this.year,this.month,l))&&(F.disabled=!0);if(this.end.length>0)Number(new Date(parseInt(this.end[0]),parseInt(this.end[1])-1,parseInt(this.end[2])))<Number(new Date(this.year,this.month,l))&&(F.disabled=!0);this.disabled.length>0&&this.disabled.filter(function(e){return i.year===e[0]&&i.month===e[1]-1&&l===e[2]}).length>0&&(F.disabled=!0),d[c].push(F)}}if(6==f&&l<o)c++;else if(l==o){var x=e,S=t+2;11===t&&(x=e+1,S=1);for(var I=1,E=f;E<6;E++)d[c].push(A()({day:I,disabled:!0,year:x,month:S},this.getLunarInfo(this.computedNextYear(),this.computedNextMonth(!0),I),this.getEvents(this.computedNextYear(),this.computedNextMonth(!0),I))),I++;u=I}}if(c<=5&&u>0){var j=e,O=t+2;11===t&&(j=e+1,O=1);for(var L=c+1;L<=5;L++){d[L]=[];for(var N=u+7*(L-c-1),$=N;$<=N+6;$++)d[L].push(A()({day:$,disabled:!0,year:j,month:O},this.getLunarInfo(this.computedNextYear(),this.computedNextMonth(!0),$),this.getEvents(this.computedNextYear(),this.computedNextMonth(!0),$)))}}var B=d[0][0],P=d[d.length-1],V=P[P.length-1];this.$emit("render",B,V),this.days=d},prev:function(e){e&&e.stopPropagation(),0==this.month?(this.month=11,this.year=parseInt(this.year)-1):this.month=parseInt(this.month)-1,this.render(this.year,this.month),this.$emit("selectMonth",this.month+1,this.year),this.$emit("prev",this.month+1,this.year)},next:function(e){e&&e.stopPropagation(),11==this.month?(this.month=0,this.year=parseInt(this.year)+1):this.month=parseInt(this.month)+1,this.render(this.year,this.month),this.$emit("selectMonth",this.month+1,this.year),this.$emit("next",this.month+1,this.year)},select:function(e,t,a){var i=this;if(void 0!=a&&a.stopPropagation(),this.range){if(0==this.rangeBegin.length||0!=this.rangeEndTemp)this.rangeBegin=[this.year,this.month,this.days[e][t].day],this.rangeBeginTemp=this.rangeBegin,this.rangeEnd=[this.year,this.month,this.days[e][t].day],this.rangeEndTemp=0;else{this.rangeEnd=[this.year,this.month,this.days[e][t].day],this.rangeEndTemp=1,+new Date(this.rangeEnd[0],this.rangeEnd[1],this.rangeEnd[2])<+new Date(this.rangeBegin[0],this.rangeBegin[1],this.rangeBegin[2])&&(this.rangeBegin=this.rangeEnd,this.rangeEnd=this.rangeBeginTemp);var n=[],o=[];this.zero?(this.rangeBegin.forEach(function(e,t){1==t&&(e+=1),n.push(i.zeroPad(e))}),this.rangeEnd.forEach(function(e,t){1==t&&(e+=1),o.push(i.zeroPad(e))})):(n=this.rangeBegin,o=this.rangeEnd),this.$emit("select",n,o)}this.render(this.year,this.month)}else if(this.multi){this.multiDays.filter(function(a){return i.year===a[0]&&i.month===a[1]-1&&i.days[e][t].day===a[2]}).length>0?this.multiDays=this.multiDays.filter(function(a){return i.year!==a[0]||i.month!==a[1]-1||i.days[e][t].day!==a[2]}):this.multiDays.push([this.year,this.month+1,this.days[e][t].day]),this.days[e][t].selected=!this.days[e][t].selected,this.$emit("select",this.multiDays)}else{this.today.length>0&&this.days.forEach(function(e){e.forEach(function(e){e.selected=!1})});var s=this.days[e][t];if(s.selected=!0,this.day=this.days[e][t].day,this.today=[e,t],this.$emit("select",this.year,this.zero?this.zeroPad(s.month):s.month,this.zero?this.zeroPad(s.day):s.day),s.disabled)if(e<2){var r=this.computedPrevMonth(!0),l=12==r?this.year-1:this.year;this.selectDay(l,r,s.day)}else{var c=this.computedNextMonth(!0),d=1==c?this.year+1:this.year;this.selectDay(d,c,s.day)}}},changeYear:function(){if(this.yearsShow)return this.yearsShow=!1,!1;this.yearsShow=!0,this.years=[];for(var e=~~this.year-10;e<10+~~this.year;e++)this.years.push(e)},selectYear:function(e){this.yearsShow=!1,this.year=e,this.render(this.year,this.month),this.$emit("selectYear",e)},setToday:function(){var e=this,t=new Date;this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.render(this.year,this.month),this.days.forEach(function(t){var a=t.find(function(t){return t.day==e.day&&!t.disabled});void 0!=a&&(a.selected=!0)})},getEvents:function(e,t,a){if(this.events&&0==this.events.length)return!1;var i=e+"-"+(this.zero?this.zeroPad(t):t)+"-"+(this.zero?this.zeroPad(a):a),n={};return n.hasEvent=this.events.includes(i),n},getLunarInfo:function(e,t,a){var i=S.solar2lunar(e,t,a),n=i.IDayCn,o=!1,s=!1;return void 0!=this.festival.lunar[i.lMonth+"-"+i.lDay]?(n=this.festival.lunar[i.lMonth+"-"+i.lDay],o=!0):void 0!=this.festival.gregorian[t+"-"+a]&&(n=this.festival.gregorian[t+"-"+a],s=!0),{lunar:n,isLunarFestival:o,isGregorianFestival:s}},computedPrevYear:function(){var e=this.year;return this.month-1<0&&e--,e},computedPrevMonth:function(e){var t=this.month;return this.month-1<0?t=11:t--,e?t+1:t},computedNextYear:function(){var e=this.year;return this.month+1>11&&e++,e},computedNextMonth:function(e){var t=this.month;return this.month+1>11?t=0:t++,e?t+1:t},zeroPad:function(e){return String(e<10?"0"+e:e)}}},E=(a("zYcO"),Object(f.a)(I,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar"},[a("div",{staticClass:"calendar-tools"},[a("div",{staticClass:"calendar-info",on:{click:function(t){return t.stopPropagation(),e.changeYear(t)}}},[a("i",{staticClass:"el-icon-arrow-left calendar-prev",on:{click:e.prev}}),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(e.year+"-"+e.zeroPad(e.month+1)))]),e._v(" "),a("i",{staticClass:"el-icon-arrow-right calendar-next",on:{click:e.next}})])]),e._v(" "),a("table",{attrs:{cellpadding:"5"}},[a("thead",[a("tr",e._l(e.weeks,function(t){return a("td",{key:t,staticClass:"week"},[e._v(e._s(t))])}))]),e._v(" "),a("tbody",e._l(e.days,function(t,i){return a("tr",{key:i,staticStyle:{}},e._l(t,function(t,n){return a("td",{key:n,class:{selected:t.selected,disabled:t.disabled,circle:t.hasEvent,today:t.isToday},on:{click:function(t){e.select(i,n,t)}}},[a("span",[e._v(e._s(t.day))]),e._v(" "),e.lunar?a("div",{staticClass:"text",class:{isLunarFestival:t.isLunarFestival,isGregorianFestival:t.isGregorianFestival}},[e._v(e._s(t.lunar))]):e._e()])}))}))]),e._v(" "),a("div",{staticClass:"calendar-years",class:{show:e.yearsShow}},e._l(e.years,function(t){return a("span",{key:t,class:{active:t==e.year},on:{click:function(a){a.stopPropagation(),e.selectYear(t)}}},[e._v(e._s(t))])}))])},[],!1,null,"13a91fe9",null));E.options.__file="WkCalendar.vue";var j=E.exports,O={name:"MemoAddDialog",components:{},mixins:[a("nboU").a],props:{visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,title:"添加备忘事件",rules:{reminderTime:[{required:!0,message:"请输入",trigger:"blur"}],content:[{required:!0,message:"请选择",trigger:"blur"}]},form:{}}},computed:{},watch:{visible:{handler:function(e){var t=this;e&&(this.form={content:"",reminderTime:""},this.$nextTick(function(){t.$refs.memoForm&&t.$refs.memoForm.clearValidate()}))},immediate:!0}},mounted:function(){},methods:{handleCancel:function(){this.close()},close:function(){this.$emit("update:visible",!1)},handleConfirm:function(){var e=this;this.$emit("change"),this.$refs.memoForm.validate(function(t){var a;t&&(e.loading=!0,(a=e.form,Object(o.a)({url:"hrmDashboard/addNotes",method:"post",data:a,headers:{"Content-Type":"application/json;charset=UTF-8"}})).then(function(t){e.$message.success("操作成功"),e.$emit("change"),e.close(),e.loading=!1}).catch(function(){e.loading=!1}))})}}},L=(a("Cbi2"),Object(f.a)(O,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"wkDialog",attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,title:e.title,width:"500px"},on:{close:e.close}},[a("div",{staticClass:"form-add-dialog-body"},[a("el-form",{ref:"memoForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"备忘事件",prop:"content"}},[a("el-input",{attrs:{maxlength:100,type:"textarea"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"提醒日期",prop:"reminderTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.form.reminderTime,callback:function(t){e.$set(e.form,"reminderTime",t)},expression:"form.reminderTime"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.handleCancel(t)}}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[e._v("保存")])],1)])},[],!1,null,"0990ac7e",null));L.options.__file="MemoAddDialog.vue";var N=L.exports,$=a("WEGX"),B=a("tvUL"),P={name:"WbCalendar",components:{WbSection:h,Calendar:j,MemoAddDialog:N,EmployeeDetail:$.a,CandidateDetail:B.a},props:{props:{type:Object,default:function(){return{monthRequest:null,dayRequest:null}}}},data:function(){return{loading:!1,dateLine:{},eventsList:[],lunarInfo:null,memoList:[],memoAddShow:!1,postParams:null,postTime:"",allShow:!1,detailId:"",employeeDetailShow:!1,candidateDetailShow:!1}},computed:{showMemoList:function(){return this.allShow?this.memoList:this.memoList.length>4?this.memoList.slice(0,4):this.memoList}},watch:{},created:function(){this.getLunarInfo(),this.getDayDetail(C()().format("YYYY-MM-DD"))},beforeDestroy:function(){},methods:{renderDate:function(e,t){var a=e.year+"-"+e.month+"-"+e.day,i=t.year+"-"+t.month+"-"+t.day;this.postParams&&this.postParams.startTime==a&&this.postParams.endTime==i||this.getDetail({startTime:a,endTime:i})},getLunarInfo:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate(),n=S.solar2lunar(t,a+1,i);n.day=this.zeroPad(n.cDay),this.lunarInfo=n},selectDate:function(e,t,a){this.getDayDetail(e+"-"+t+"-"+a)},getDetail:function(e){var t=this;this.postParams=e,this.loading=!0,(this.props.monthRequest||s)(e).then(function(e){t.eventsList=e.data||[],t.loading=!1}).catch(function(){t.loading=!1})},getDayDetail:function(e){var t=this;this.loading=!0,this.postTime=e,(this.props.dayRequest||r)({time:e}).then(function(e){t.loading=!1;var a=e.data||[];a.forEach(function(e){e.typeName={1:"备忘",2:"生日",3:"入职",4:"转正",5:"离职",6:"招聘",7:"考勤"}[e.type]}),t.memoList=a}).catch(function(){t.loading=!1})},checkDetail:function(e){e.typeId&&(this.detailId=e.typeId,6===e.type?this.candidateDetailShow=!0:1!==e.type&&(this.employeeDetailShow=!0))},allShowClick:function(){this.allShow=!0},refreshData:function(){this.getDetail(this.postParams),this.getDayDetail(this.postTime)},zeroPad:function(e){return String(e<10?"0"+e:e)},addClick:function(){this.memoAddShow=!0},deleteItem:function(e){var t,a=this;this.loading=!0,(t=e.notesId,Object(o.a)({url:"hrmDashboard/deleteNotes/"+t,method:"post"})).then(function(e){a.refreshData(),a.loading=!1}).catch(function(){a.loading=!1})}}},V=(a("Olql"),Object(f.a)(P,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wb-calendar",attrs:{icon:"wk wk-calendar",label:"日历"}},[a("calendar",{ref:"calendar",attrs:{lunar:!0,zero:!0,events:e.eventsList},on:{select:e.selectDate,render:e.renderDate}}),e._v(" "),e.lunarInfo?a("flexbox",{staticClass:"board"},[a("div",{staticClass:"board__day"},[e._v(e._s(e.lunarInfo.day))]),e._v(" "),a("div",{staticClass:"board__info"},[a("div",[e._v(e._s(e.lunarInfo.ncWeek))]),e._v(" "),a("div",[e._v(e._s(""+e.lunarInfo.IMonthCn+e.lunarInfo.IDayCn))])]),e._v(" "),a("el-button",{staticClass:"board-add",attrs:{type:"text",icon:"wk wk-add"},on:{click:e.addClick}},[e._v("添加备忘录")])],1):e._e(),e._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"list__header"},[e._v("当天事项")]),e._v(" "),a("div",{staticClass:"list__body"},[e._l(e.showMemoList,function(t,i){return a("flexbox",{key:i,staticClass:"list__item"},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":""}},[e._v(e._s(t.typeName))]),e._v(" "),a("el-tooltip",{attrs:{content:t.content,placement:"top"}},[a("div",{staticClass:"text-one-line",class:{"can-visit--underline":1!=t.type},on:{click:function(a){e.checkDetail(t)}}},[e._v(e._s(t.content))])]),e._v(" "),1==t.type?a("i",{staticClass:"wk wk-icon-bin list__delete",on:{click:function(a){e.deleteItem(t)}}}):e._e()],1)}),e._v(" "),a("div",{staticClass:"list__more"},[!e.allShow&&e.memoList.length>4?a("el-button",{attrs:{type:"text"},on:{click:e.allShowClick}},[e._v("查看更多事项"),a("i",{staticClass:"el-icon-d-arrow-right"})]):e._e(),e._v(" "),0==e.memoList.length?a("span",[e._v("暂无数据")]):e._e()],1)],2)]),e._v(" "),a("memo-add-dialog",{attrs:{visible:e.memoAddShow},on:{"update:visible":function(t){e.memoAddShow=t},change:e.refreshData}}),e._v(" "),e.employeeDetailShow?a("employee-detail",{attrs:{id:e.detailId},on:{close:function(t){e.employeeDetailShow=!1}}}):e._e(),e._v(" "),e.candidateDetailShow?a("candidate-detail",{attrs:{id:e.detailId},on:{close:function(t){e.candidateDetailShow=!1}}}):e._e()],1)},[],!1,null,"b54e6f4c",null));V.options.__file="WbCalendar.vue";var M=V.exports,R={name:"EmployeeWorkbench",components:{WbPerformance:w,WbSurvey:T,WbCalendar:M},props:{},data:function(){return{calendarProps:{monthRequest:c,dayRequest:l}}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{}},W=(a("x2xS"),Object(f.a)(R,function(){var e=this.$createElement,t=this._self._c||e;return t("flexbox",{staticClass:"workbench",attrs:{align:"stretch"}},[t("div",{staticClass:"workbench__left"},[t("wb-survey"),this._v(" "),t("wb-performance")],1),this._v(" "),t("div",{staticClass:"workbench__right"},[t("wb-calendar",{attrs:{props:this.calendarProps}})],1)])},[],!1,null,"02ec29f1",null));W.options.__file="index.vue";var q=W.exports,U=a("L2JU"),z={name:"WbPersonnel",components:{WbSection:h,WbItem:v},props:{},data:function(){return{des:"",fieldList:[{label:"在职",name:"0",num:0},{label:"入职",name:"1",num:0},{label:"待入职",name:"5",num:0},{label:"离职",name:"2",num:0},{label:"待离职",name:"6",num:0},{label:"转正",name:"3",num:0},{label:"调岗",name:"4",num:0}]}},computed:n()({},Object(U.b)(["hrm"]),{canCheck:function(){return this.hrm.employee&&this.hrm.employee.index}}),watch:{},created:function(){var e=C()().startOf("month").format("YYYY.MM.DD"),t=C()().endOf("month").format("YYYY.MM.DD");this.des="（"+e+"-"+t+"）",this.getDetail()},beforeDestroy:function(){},methods:{getDetail:function(){var e=this;Object(o.a)({url:"hrmDashboard/employeeSurvey",method:"post"}).then(function(t){var a=t.data||{};e.fieldList.forEach(function(e){e.num=a[parseInt(e.name)]||0})}).catch(function(){})},itemClick:function(e){var t=this.fieldList[e],a={};0===e?a.tabType="11":a.employeeSurvey=t.name,this.$router.push({name:"hrmEmployee",query:n()({workbench:"filter"},a)})}}},Y=(a("AhSd"),Object(f.a)(z,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-personnel",attrs:{des:e.des,icon:"wk wk-user",label:"人事概况"}},[a("flexbox",{staticClass:"body"},e._l(e.fieldList,function(t,i){return a("wb-item",{key:i,attrs:{index:i,label:t.label,value:t.num,disabled:!e.canCheck},on:{select:e.itemClick}})}))],1)},[],!1,null,"5d04c331",null));Y.options.__file="WbPersonnel.vue";var H=Y.exports,G={name:"WbRecruit",components:{WbSection:h,WbItem:v},props:{},data:function(){return{des:"",fieldList:[{label:"正在招聘职位",name:"postCount",unit:"个",disabled:!1,num:0},{label:"评选中",name:"chooseCount",disabled:!0,num:0},{label:"待入职",name:"pendingEntryCount",disabled:!1,num:0},{label:"已入职",name:"haveJoinedCount",disabled:!1,num:0}]}},computed:n()({},Object(U.b)(["hrm"]),{andidateCanCheck:function(){return this.hrm.recruit&&this.hrm.recruit.read},postCanCheck:function(){return this.hrm.recruit&&this.hrm.recruit.readPost}}),watch:{},created:function(){var e=C()().add(-.5,"y").format("YYYY.MM.DD"),t=C()().format("YYYY.MM.DD");this.des="（"+e+"-"+t+"）",this.getDetail()},beforeDestroy:function(){},methods:{getDetail:function(){var e=this;Object(o.a)({url:"hrmDashboard/recruitSurvey",method:"post"}).then(function(t){var a=t.data||{};e.fieldList.forEach(function(t,i){t.num=a[t.name]||0,0===i?t.disabled=!e.postCanCheck:2!==i&&3!==i||(t.disabled=!e.andidateCanCheck)})}).catch(function(){})},itemClick:function(e){var t=this.fieldList[e];0===e?this.$router.push({name:"hrmPost"}):e>1&&this.$router.push({name:"hrmCandidate",query:{workbench:"filter",recruitSurvey:"pendingEntryCount"===t.name?"3":"4"}})}}},K=(a("Wpxb"),Object(f.a)(G,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-recruit",attrs:{des:e.des,icon:"wk wk-office",label:"招聘动态"}},[a("flexbox",{staticClass:"body"},e._l(e.fieldList,function(t,i){return a("wb-item",{key:i,attrs:{index:i,label:t.label,value:t.num,unit:t.unit,disabled:t.disabled},on:{select:e.itemClick}})}))],1)},[],!1,null,"33586de4",null));K.options.__file="WbRecruit.vue";var Q=K.exports,X={name:"WbBacklog",components:{WbSection:h,WbItem:v},props:{},data:function(){return{fieldList:[{label:"待审核薪资",name:"toSalaryExamine",num:0,unit:"条"},{label:"待离职",name:"toLeave",num:0},{label:"合同到期",name:"toExpireContract",num:0},{label:"待转正",name:"toCorrect",num:0},{label:"待入职",name:"toIn",num:0},{label:"生日",name:"toBirthday",num:0}]}},computed:n()({},Object(U.b)(["hrm"]),{canCheck:function(){return this.hrm.employee&&this.hrm.employee.index}}),watch:{},created:function(){this.getDetail()},beforeDestroy:function(){},methods:{getDetail:function(){var e=this;Object(o.a)({url:"hrmDashboard/toDoRemind",method:"post"}).then(function(t){var a=t.data||{};e.fieldList.forEach(function(e){e.num=a[e.name]||0})}).catch(function(){})},itemClick:function(e){var t=this.fieldList[e],a={};0===e?this.$router.push({name:"hrmSalary"}):(a.toDoRemind={toLeave:"2",toExpireContract:"3",toCorrect:"4",toIn:"5",toBirthday:"6"}[t.name],this.$router.push({name:"hrmEmployee",query:n()({workbench:"filter"},a)}))}}},J=(a("ESNz"),Object(f.a)(X,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-backlog",attrs:{icon:"wk wk-message",label:"待办提醒"}},[a("flexbox",{staticClass:"body",attrs:{wrap:"wrap"}},e._l(e.fieldList,function(t,i){return a("wb-item",{key:i,attrs:{index:i,label:t.label,value:t.num,disabled:0===t.num&&0===i||!e.canCheck,unit:t.unit||"人"},on:{select:e.itemClick}})}))],1)},[],!1,null,"7525492c",null));J.options.__file="WbBacklog.vue";var Z=J.exports,ee=a("MT78"),te=a.n(ee),ae=a("2pLh"),ie={name:"Wbsalary",components:{WbSection:h,WbItem:v},props:{},data:function(){return{fieldList:[{label:"计薪人员",name:"total",num:0},{label:"实发工资",name:"totalSalary",unit:"元",num:0}],chartObj:null,pieOption:null,srecordId:null}},computed:{disabled:function(){return!this.srecordId},echartHasData:function(){return this.pieOption&&this.pieOption.series[0].data.length>0}},watch:{},created:function(){this.getDetail()},mounted:function(){this.chartObj=te.a.init(document.getElementById("axismain")),this.initPie(),this.chartObj.setOption(this.pieOption,!0)},beforeDestroy:function(){},methods:{getDetail:function(){var e=this;Object(o.a)({url:"hrmDashboard/lastSalarySurvey",method:"post"}).then(function(t){var a=t.data||{};e.srecordId=a.srecordId,e.fieldList.forEach(function(e){e.num=a[e.name]||0});var i=a.deptProportionList||[];e.pieOption.series[0].data=i.map(function(e){return e.name=e.deptName,e.value=ae.a.times(e.proportion,100),e}),e.chartObj.setOption(e.pieOption,!0)}).catch(function(){})},itemClick:function(e){this.$router.push({name:"salaryHistoryDetail",params:{id:this.srecordId}})},initPie:function(){this.pieOption={title:{text:"部门薪资占比",left:"center"},color:["#6CA2FF","#6AC9D7","#72DCA2","#48E78D","#FECD51","#DBB375","#FF7474","#F59561","#A3AEBC","#4C84FF","#0DBEB4","#00DEDE","#FFAA00","#C7C116","#F7A57C","#F661AC","#8652EE"],tooltip:{trigger:"item",formatter:"{b} : {c}% "},legend:{type:"scroll",bottom:"0",x:"center",data:[]},series:[{name:"",type:"pie",radius:"45%",stillShowZeroSum:!1,data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}},ne=(a("j2TH"),Object(f.a)(ie,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-salary",attrs:{icon:"wk wk-payment",label:"上月薪资概况"}},[a("flexbox",{staticClass:"body"},[e._l(e.fieldList,function(t,i){return a("wb-item",{key:i,attrs:{index:i,label:t.label,unit:t.unit,value:t.num,disabled:e.disabled},on:{select:e.itemClick}})}),e._v(" "),a("div",{staticClass:"echart"},[a("div",{attrs:{id:"axismain"}}),e._v(" "),e.echartHasData?e._e():a("span",{staticClass:"empty-text"},[e._v("暂无数据")])])],2)],1)},[],!1,null,"d7dcd274",null));ne.options.__file="WbSalary.vue";var oe=ne.exports,se=a("lH/j"),re=a("7Qib"),le={name:"WbPerformance",components:{WbSection:h,EmployeesView:se.a},props:{},data:function(){return{des:"",tabType:"2",tabList:[{label:"已完成考核",name:"2",num:0},{label:"进行中考核",name:"1",num:0}],list:[],appraisalId:"",employeesViewShow:!1}},computed:{},watch:{},created:function(){var e=C()().add(-1,"y").format("YYYY.MM.DD"),t=C()().format("YYYY.MM.DD");this.des="（"+e+"-"+t+"）",this.getCountDetail(),this.getDetail()},beforeDestroy:function(){},methods:{getCountDetail:function(){var e=this;Object(o.a)({url:"hrmDashboard/appraisalCountSurvey",method:"post"}).then(function(t){var a=t.data||{};e.tabList.forEach(function(e){e.num=a[parseInt(e.name)]||0})}).catch(function(){})},getDetail:function(){var e,t=this;(e=this.tabType,Object(o.a)({url:"hrmDashboard/appraisalSurvey/"+e,method:"post"})).then(function(e){t.list=e.data||[]}).catch(function(){})},getPeriodTime:function(e){return Object(re.C)(e.startTime,"YYYY.MM.DD")+"-"+Object(re.C)(e.endTime,"YYYY.MM.DD")},refreshList:function(){this.list=[],this.getDetail()},numCellClassName:function(e){e.row;var t=e.column;e.rowIndex,e.columnIndex;return"scoreLevels"==t.property?"can-visit--underline":""},numRowClick:function(e,t){"scoreLevels"==Array.prototype.slice.call(e)[1].property&&(this.appraisalId=t.appraisalId,this.employeesViewShow=!0)}}},ce=(a("ILsY"),Object(f.a)(le,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-perfor",attrs:{des:e.des,icon:"wk wk-perform",label:"绩效考核"}},[a("div",{staticClass:"body"},[a("el-tabs",{staticStyle:{width:"100%"},on:{"tab-click":e.refreshList},model:{value:e.tabType,callback:function(t){e.tabType=t},expression:"tabType"}},e._l(e.tabList,function(t){return a("el-tab-pane",{key:t.name,attrs:{name:t.name}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.label)),t.num>0?a("span",{staticClass:"tab-pane-num",staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.num))]):e._e()])])})),e._v(" "),a("div",{staticClass:"tabs__content"},e._l(e.list,function(t,i){return a("el-table",{key:i,staticStyle:{width:"100%"},attrs:{data:[t],"cell-class-name":e.numCellClassName,align:"center","header-align":"center"},on:{"row-click":function(a){e.numRowClick(arguments,t)}}},[a("el-table-column",{attrs:{prop:"time","show-overflow-tooltip":"",label:"考核时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.getPeriodTime(t.row))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"appraisalName","show-overflow-tooltip":"",label:"考核名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableName","show-overflow-tooltip":"",label:"考核模板"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scoreLevels","show-overflow-tooltip":"",label:"考核结果"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.scoreLevels,function(t,i){return a("span",{key:i,staticStyle:{"font-weight":"bold"}},[e._v("\n              "+e._s(t.levelName+"（"+t.num+"人）")+"\n            ")])})}}])})],1)}))],1),e._v(" "),a("employees-view",{attrs:{visible:e.employeesViewShow,id:e.appraisalId},on:{"update:visible":function(t){e.employeesViewShow=t}}})],1)},[],!1,null,"6a358a44",null));ce.options.__file="WbPerformance.vue";var de={name:"ManagerWorkbench",components:{WbPersonnel:H,WbRecruit:Q,WbSalary:oe,WbPerformance:ce.exports,WbBacklog:Z,WbCalendar:M},props:{},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{}},ue=(a("Sjvo"),Object(f.a)(de,function(){var e=this.$createElement,t=this._self._c||e;return t("flexbox",{staticClass:"workbench",attrs:{align:"stretch"}},[t("div",{staticClass:"workbench__left"},[t("wb-personnel"),this._v(" "),t("wb-recruit"),this._v(" "),t("wb-salary"),this._v(" "),t("wb-performance")],1),this._v(" "),t("div",{staticClass:"workbench__right"},[t("wb-backlog"),this._v(" "),t("wb-calendar")],1)])},[],!1,null,"d86db46e",null));ue.options.__file="index.vue";var fe=ue.exports,me={name:"WbPersonnel",components:{WbSection:h,WbItem:v},props:{},data:function(){return{fieldList:[{label:"团队人数",name:"0",num:0},{label:"本月入职",name:"1",num:0},{label:"本月离职",name:"2",num:0},{label:"本月转正",name:"3",num:0}]}},computed:n()({},Object(U.b)(["hrm"]),{canCheck:function(){return this.hrm.employee&&this.hrm.employee.index}}),watch:{},created:function(){this.getDetail()},beforeDestroy:function(){},methods:{getDetail:function(){var e=this;Object(o.a)({url:"hrmDashboard/myTeam",method:"post"}).then(function(t){var a=t.data||{};e.fieldList.forEach(function(e){e.num=a[parseInt(e.name)]||0})}).catch(function(){})},itemClick:function(e){var t=this.fieldList[e],a={};0===e?a.tabType="11":a.employeeSurvey=t.name,this.$router.push({name:"hrmEmployee",query:n()({workbench:"filter"},a)})}}},he=(a("qWEv"),Object(f.a)(me,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-personnel",attrs:{icon:"wk wk-s-seas",label:"我的团队"}},[a("flexbox",{staticClass:"body"},e._l(e.fieldList,function(t,i){return a("wb-item",{key:i,attrs:{index:i,label:t.label,value:t.num,disabled:!e.canCheck},on:{select:e.itemClick}})}))],1)},[],!1,null,"57db7ef7",null));he.options.__file="WbPersonnel.vue";var be=he.exports,pe={name:"WbPie",components:{},props:{props:{type:Object,default:function(){return{title:""}}},data:Array},data:function(){return{chartObj:null,pieOption:null}},computed:{},watch:{data:function(){this.initPie(),this.chartObj.setOption(this.pieOption,!0)}},created:function(){},mounted:function(){this.chartObj=te.a.init(this.$el),this.initPie(),this.chartObj.setOption(this.pieOption,!0)},beforeDestroy:function(){},methods:{initPie:function(){this.pieOption={title:{text:this.props.title,left:"center"},color:["#6CA2FF","#6AC9D7","#72DCA2","#48E78D","#FECD51","#DBB375","#FF7474","#F59561","#A3AEBC","#4C84FF","#0DBEB4","#00DEDE","#FFAA00","#C7C116","#F7A57C","#F661AC","#8652EE"],tooltip:{trigger:"item",formatter:function(e){var t=e.data||{};return t.name+": "+t.value+"% "+t.count+"人"}},legend:{type:"scroll",bottom:"0",x:"center",data:[]},series:[{name:"",top:60,type:"pie",radius:"45%",stillShowZeroSum:!1,data:this.data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}},ve=(a("tnKx"),Object(f.a)(pe,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"wb-pie"})},[],!1,null,"425c4060",null));ve.options.__file="WbPie.vue";var ye={name:"WbSurvey",components:{WbSection:h,WbPie:ve.exports},props:{},data:function(){return{chartList:[{props:{title:"员工状态占比"},data:[]},{props:{title:"男女性别占比"},data:[]},{props:{title:"成员年龄占比"},data:[]},{props:{title:"成员司龄占比"},data:[]}]}},computed:{},watch:{},created:function(){this.getDetail()},mounted:function(){},beforeDestroy:function(){},methods:{getDetail:function(){var e=this;Object(o.a)({url:"hrmDashboard/teamSurvey",method:"post"}).then(function(t){var a=t.data||{},i=a.statusAnalysis||[],n=a.sexAnalysis||[],o=a.ageAnalysis||[],s=a.companyAgeAnalysis||[];e.chartList[0].data=e.getItems(i),e.chartList[1].data=e.getItems(n),e.chartList[2].data=e.getItems(o),e.chartList[3].data=e.getItems(s),e.chartObj.setOption(e.pieOption,!0)}).catch(function(){})},getItems:function(e){var t=[];return e.forEach(function(e){e.count>0&&(e.value=ae.a.times(e.proportion,100),t.push(e))}),t}}},ge=(a("t4O0"),Object(f.a)(ye,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wb-section",{staticClass:"wb-survey",attrs:{icon:"wk wk-s-seas",label:"团队概况"}},[a("flexbox",{staticClass:"body"},e._l(e.chartList,function(t,i){return a("flexbox-item",{key:i},[0===t.data.length?a("span",{staticClass:"empty-text"},[e._v("暂无数据")]):a("wb-pie",{attrs:{props:t.props,data:t.data}})],1)}))],1)},[],!1,null,"98d9457a",null));ge.options.__file="WbSurvey.vue";var we={name:"TeamWorkbench",components:{WbPersonnel:be,WbSurvey:ge.exports,WbCalendar:M},props:{},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{}},_e=(a("2tLO"),Object(f.a)(we,function(){var e=this.$createElement,t=this._self._c||e;return t("flexbox",{staticClass:"workbench",attrs:{align:"stretch"}},[t("div",{staticClass:"workbench__left"},[t("wb-personnel"),this._v(" "),t("wb-survey")],1),this._v(" "),t("div",{staticClass:"workbench__right"},[t("wb-calendar")],1)])},[],!1,null,"3452a350",null));_e.options.__file="index.vue";var Ce={name:"Workbench",components:{EmployeeWorkbench:q,ManagerWorkbench:fe,TeamWorkbench:_e.exports},props:{},data:function(){return{}},computed:n()({},Object(U.b)(["hrmUserInfo","hrmShowType"]),{componentName:function(){if(this.hrmUserInfo){if(this.hrmUserInfo.role){if(91==this.hrmUserInfo.role.label)return{1:"ManagerWorkbench",2:"EmployeeWorkbench"}[this.hrmShowType];if(92==this.hrmUserInfo.role.label)return{1:"TeamWorkbench",2:"EmployeeWorkbench"}[this.hrmShowType]}return"EmployeeWorkbench"}return""}}),watch:{componentName:{handler:function(){"EmployeeWorkbench"===this.componentName&&this.$router.replace({name:"hrmWorkbench",query:{type:"self-server"}})},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{}},De=(a("ygxP"),Object(f.a)(Ce,function(){var e=this.$createElement,t=this._self._c||e;return"EmployeeWorkbench"===this.componentName?t("employee-workbench"):"ManagerWorkbench"===this.componentName?t("manager-workbench"):"TeamWorkbench"===this.componentName?t("team-workbench"):this._e()},[],!1,null,"75815af2",null));De.options.__file="index.vue";t.default=De.exports},aITK:function(e,t,a){"use strict";var i=a("zWD2");a.n(i).a},adJy:function(e,t,a){"use strict";var i=a("A/aH");a.n(i).a},bODi:function(e,t,a){},bxH2:function(e,t,a){"use strict";var i=a("GQeE"),n=a.n(i);function o(e){return n()(e).map(function(t){return{label:e[t],value:parseInt(t)}})}var s={1:"小学",2:"初中",3:"高中",4:"大专",5:"本科",6:"硕士",7:"博士"},r={1:"男",2:"女"},l=[{name:"姓名",field:"candidateName",formType:"text",isNull:1,setting:[]},{name:"手机号",field:"mobile",formType:"mobile",isNull:1,setting:[]},{name:"性别",field:"sex",formType:"radio",isNull:1,setting:o(r)},{name:"年龄",field:"age",formType:"number",setting:[]},{name:"邮箱",field:"email",formType:"email",setting:[]},{name:"应聘职位",field:"postId",formType:"post",isNull:1,setting:[]},{name:"工作年限",field:"workTime",formType:"number",setting:[]},{name:"学历",field:"education",formType:"select",isNull:1,setting:o(s)},{name:"毕业院校",field:"graduateSchool",formType:"text",setting:[]},{name:"最近工作单位",field:"latestWorkPlace",formType:"text",setting:[]},{name:"招聘渠道",field:"channelId",formType:"channel",setting:[]}];t.a={fields:l,tableFields:[{name:"姓名",field:"candidateName",width:80},{name:"应聘职位",field:"postId",width:120},{name:"用人部门",field:"deptName",width:120},{name:"候选人状态",field:"status",width:180},{name:"手机号",field:"mobile",width:160},{name:"性别",field:"sex",width:80},{name:"年龄",field:"age",width:80},{name:"邮箱",field:"email",width:160},{name:"招聘负责人",field:"ownerEmployeeName",width:115},{name:"工作年限",field:"workTime",width:80},{name:"学历",field:"education",width:80},{name:"毕业院校",field:"graduateSchool",width:80},{name:"最近工作单位",field:"latestWorkPlace",width:120},{name:"招聘渠道",field:"channelId",width:80},{name:"面试时间",field:"interviewTime",width:80},{name:"面试轮次",field:"stageNum",width:80},{name:"面试官",field:"interviewEmployeeName",width:80},{name:"面试方式",field:"interviewType",width:80},{name:"其他面试官",field:"otherInterviewEmployeeName",width:115},{name:"创建时间",field:"createTime",width:170}],educationValue:s,sexValue:r,getValueList:o,statusValue:{1:"新候选人",2:"初选通过",3:"安排面试",4:"面试通过",5:"已发offer",6:"待入职",7:"已淘汰",8:"已入职"},statusColorValue:{1:"#2362fb",2:"#ffc539",3:"#ffc539",4:"#20b559",5:"#20b559",6:"#ffc539",7:"#f95a5a",8:"#20b559"},statusKeyValue:{new:1,firstPass:2,interview:3,pass:4,offer:5,wait:6,eliminate:7,entry:8},interviewTypeValue:{1:"现场面试",2:"电话面试",3:"视频面试"},interviewResultValue:{1:"面试未完成",2:"面试通过",3:"面试未通过",4:"面试取消"}}},c1z1:function(e,t,a){},cZXy:function(e,t,a){"use strict";a.d(t,"g",function(){return n}),a.d(t,"h",function(){return o}),a.d(t,"a",function(){return s}),a.d(t,"j",function(){return r}),a.d(t,"l",function(){return l}),a.d(t,"b",function(){return c}),a.d(t,"k",function(){return d}),a.d(t,"c",function(){return u}),a.d(t,"i",function(){return f}),a.d(t,"d",function(){return m}),a.d(t,"e",function(){return h}),a.d(t,"f",function(){return b});var i=a("t3Un");function n(e){return Object(i.a)({url:"hrmAchievementAppraisal/queryAppraisalPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i.a)({url:"hrmAchievementAppraisal/queryAppraisalStatusNum",method:"post",data:e})}function s(e){return Object(i.a)({url:"hrmAchievementAppraisal/addAppraisal",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i.a)({url:"hrmAchievementAppraisal/setAppraisal",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i.a)({url:"hrmAchievementAppraisal/updateAppraisalStatus",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i.a)({url:"hrmAchievementAppraisal/delete/"+e,method:"post"})}function d(e){return Object(i.a)({url:"hrmAchievementAppraisal/stopAppraisal/"+e,method:"post"})}function u(e){return Object(i.a)({url:"hrmAchievementAppraisal/queryAppraisalById/"+e,method:"post"})}function f(e){return Object(i.a)({url:"hrmAchievementAppraisal/queryAppraisalEmployeeList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(i.a)({url:"hrmAchievementAppraisal/queryEmployeeAppraisalCount/"+e,method:"post"})}function h(e){return Object(i.a)({url:"hrmAchievementAppraisal/queryEmployeeAppraisal",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(i.a)({url:"hrmAchievementAppraisal/queryEmployeeListByAppraisalId",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},dV8P:function(e,t,a){},dukW:function(e,t,a){},erCq:function(e,t,a){"use strict";var i=a("rDGj");a.n(i).a},fC9G:function(e,t,a){"use strict";var i=a("DQ65");a.n(i).a},gxVy:function(e,t,a){"use strict";var i=a("EdyN");a.n(i).a},gzXM:function(e,t,a){},h8CF:function(e,t,a){},iJft:function(e,t,a){},j2TH:function(e,t,a){"use strict";var i=a("IZp0");a.n(i).a},kBEL:function(e,t,a){"use strict";var i=a("UGe0"),n=a("7Qib"),o={name:"WkPopoverFilter",components:{WkForm:i.a},inheritAttrs:!1,props:{hasContent:{type:Boolean,default:!1},fieldFrom:Object,fieldList:Array},data:function(){return{popverShow:!1,from:{}}},computed:{},watch:{popverShow:function(e){this.$emit(e?"show":"hide")},fieldFrom:{handler:function(){var e=Object(n.w)(this.fieldFrom);this.fieldList.forEach(function(t){"range"==t.formType&&(e[t.field]=e[t.field]?e[t.field]:["",""])}),this.from=e},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{sureClick:function(){this.$emit("update:fieldFrom",this.from),this.$emit("sure",Object(n.w)(this.from)),this.popverShow=!1},resetClick:function(){this.$emit("reset")},hide:function(){var e=Object(n.w)(this.fieldFrom);this.fieldList.forEach(function(t){"range"==t.formType&&(e[t.field]=e[t.field]?e[t.field]:["",""])}),this.from=e}}},s=(a("Dpm0"),a("KHd+")),r=Object(s.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",e._g(e._b({staticClass:"wk-popover-filter",on:{hide:e.hide},model:{value:e.popverShow,callback:function(t){e.popverShow=t},expression:"popverShow"}},"el-popover",e.$attrs,!1),e.$listeners),[a("div",{staticStyle:{padding:"3px 12px"}},[a("wk-form",{staticClass:"wk-filter-form",attrs:{"field-from":e.from,"field-list":e.fieldList,"custom-class":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.data;return[i&&"range"==i.formType?a("div",{staticClass:"wk-range-select"},[a("flexbox",{staticClass:"wk-range-select__top"},[a("el-input",{attrs:{type:"number",maxlength:"100"},model:{value:e.from[i.field][0],callback:function(t){e.$set(e.from[i.field],0,t)},expression:"from[data.field][0]"}}),e._v(" "),a("span",{staticClass:"range-separator"},[e._v("至")]),e._v(" "),a("el-input",{attrs:{type:"number",maxlength:"100"},model:{value:e.from[i.field][1],callback:function(t){e.$set(e.from[i.field],1,t)},expression:"from[data.field][1]"}})],1)],1):e._e()]}}])}),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.sureClick}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:e.resetClick}},[e._v("重置")])],1)],1),e._v(" "),a("i",{staticClass:"wk wk-screening",class:{"is-select":e.hasContent||e.popverShow},attrs:{slot:"reference"},slot:"reference"})])},[],!1,null,"5fb20868",null);r.options.__file="index.vue";t.a=r.exports},kUhV:function(e,t,a){"use strict";var i=a("dV8P");a.n(i).a},kq9f:function(e,t,a){"use strict";t.a={getFields:function(e){var t=[{name:"合同编号",field:"contractNum",formType:"text",setting:[]},{name:"合同类型",field:"contractType",formType:"select",setting:[{label:"固定期限劳动合同",value:1},{label:"无固定期限劳动合同",value:2},{label:"以完成一定工作任务为期限的劳动合同",value:3},{label:"实习协议",value:4},{label:"劳务合同",value:5},{label:"返聘协议",value:6},{label:"劳务派遣合同",value:7},{label:"借调合同",value:8},{label:"其他",value:9}]},{name:"合同开始日期",field:"startTime",formType:"date",setting:[]},{name:"合同结束日期",field:"endTime",formType:"date",setting:[]}];return e&&2==e.contractType||t.push({name:"合同期限",field:"term",formType:"select",setting:[{label:"1年",value:1},{label:"2年",value:2},{label:"3年",value:3},{label:"4年",value:4},{label:"5年",value:5},{label:"6年",value:6},{label:"7年",value:7},{label:"8年",value:8},{label:"9年",value:9},{label:"10年",value:10}]}),t.concat([{name:"合同状态",field:"status",formType:"select",setting:[{label:"未执行",value:0},{label:"执行中",value:1},{label:"已到期",value:2}]},{name:"签约公司",field:"signCompany",formType:"text",setting:[]},{name:"合同签订日期",field:"signTime",formType:"date",setting:[]},{name:"合同备注",field:"remarks",formType:"textarea",setting:[]}])},getRules:function(e){var t={contractType:[{required:!0,message:"请选择",trigger:["blur","change"]}],startTime:[{required:!0,message:"请选择",trigger:["blur","change"]}],endTime:[{required:!0,message:"请选择",trigger:["blur","change"]}],signTime:[{required:!0,message:"请选择",trigger:["blur","change"]}],status:[{required:!0,message:"请选择",trigger:["blur","change"]}]};return e&&2==e.contractType||(t.term=[{required:!0,message:"请选择",trigger:["blur","change"]}]),t},contractTypeValue:{1:"固定期限劳动合同",2:"无固定期限劳动合同",3:"以完成一定工作任务为期限的劳动合同",4:"实习协议",5:"劳务合同",6:"返聘协议",7:"劳务派遣合同",8:"借调合同",9:"其他"},termValue:{1:"1年",2:"2年",3:"3年",4:"4年",5:"5年",6:"6年",7:"7年",8:"8年",9:"9年",10:"10年"},statusValue:{0:"未执行",1:"执行中",2:"已到期"}}},kyS4:function(e,t,a){"use strict";var i=a("AHMD");a.n(i).a},"lH/j":function(e,t,a){"use strict";var i=a("GQeE"),n=a.n(i),o=a("cZXy"),s=a("9I6p"),r=a("D0zU"),l=a("kBEL"),c=a("wQsH"),d=a("a/5N"),u=a("ixM/"),f=a("Gbek"),m={name:"EmployeesView",components:{WkPopoverFilter:l.a,EmployeeConfirmPerformance:c.a},mixins:[],props:{status:[String,Number],id:[String,Number],visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,filterObj:{},tableHeight:this.getTableHeight(),list:[],fieldList:[{fieldName:"employeeName",name:"姓名",width:130},{fieldName:"mobile",name:"手机号",width:80},{fieldName:"jobNumber",name:"工号",width:80},{fieldName:"deptName",name:"部门",width:80},{fieldName:"employeeStatus",name:"员工状态",width:80},{fieldName:"status",name:"考核状态",width:80},{fieldName:"followUpEmployeeName",name:"跟进人",width:80},{fieldName:"score",name:"评分",width:80},{fieldName:"levelName",name:"考核结果",width:120}],currentPage:1,pageSize:15,pageSizes:[15,30,60,100],total:0,rowId:"",detailShow:!1,levelOptions:[]}},computed:{filterList:function(){return[{name:"姓名",field:"employeeName",formType:"text",setting:[]},{name:"部门",field:"deptId",formType:"structure",props:{dataType:"hrm"},request:r.e,setting:[]},{name:"等级",field:"levelId",formType:"select",setting:this.levelOptions},{name:"考核状态",field:"status",formType:"select",setting:f.a.getValueList(f.a.statusValue)}]},hasFilterContent:function(){if(this.filterObj){for(var e=!1,t=n()(this.filterObj),a=0;a<t.length;a++){var i=t[a];""!=this.filterObj[i]&&this.filterObj[i]!=[]&&null!=this.filterObj[i]&&void 0!=this.filterObj[i]&&(e=!0)}return e}return!1}},watch:{visible:{handler:function(e){e&&(this.filterObj={status:Object(d.b)(this.status)||isNaN(this.status)?"":parseInt(this.status)},0==this.levelOptions.length&&this.getLevelList(),this.refreshList())},immediate:!0}},mounted:function(){},methods:{refreshList:function(){this.handleCurrentChange(1)},resetFilter:function(){this.filterObj={},this.refreshList()},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getList:function(){var e=this;this.loading=!0;var t={page:this.currentPage,limit:this.pageSize,status:this.status,appraisalId:this.id};for(var a in this.filterObj)t[a]=this.filterObj[a];Object(o.f)(t).then(function(t){e.list=t.data.list,e.total=t.data.totalRow,e.loading=!1}).catch(function(){e.loading=!1})},getTableHeight:function(){var e=document.documentElement.clientHeight;return e-.2*e-200},fieldFormatter:function(e,t){if("employeeStatus"==t.property)return u.d.statusValue[e.employeeStatus]||"--";if("status"==t.property)return f.a.statusValue[e.status]||"--";var a=e[t.property];return Object(d.b)(a)?"--":a},handleRowClick:function(e,t,a){"employeeName"==t.property&&(this.rowId=e.employeeAppraisalId,this.detailShow=!0)},handleCancel:function(){this.detailShow=!1,this.$emit("update:visible",!1)},getLevelList:function(){var e=this;Object(s.f)(this.id).then(function(t){var a=t.data||[];a.forEach(function(e){e.label=e.levelName,e.value=e.levelId}),e.levelOptions=a}).catch(function(){})}}},h=(a("97R0"),a("KHd+")),b=Object(h.a)(m,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,title:"详情",top:"10vh",width:"80%"},on:{close:e.handleCancel}},[a("div",{staticClass:"filter-div"},[e.hasFilterContent?a("el-button",{attrs:{type:"text"},on:{click:e.resetFilter}},[e._v("清除筛选")]):e._e(),e._v(" "),a("wk-popover-filter",{staticStyle:{"margin-right":"5px"},attrs:{"field-from":e.filterObj,"field-list":e.filterList,"has-content":e.hasFilterContent,width:"80%",placement:"bottom"},on:{"update:fieldFrom":function(t){e.filterObj=t},sure:e.refreshList,reset:e.resetFilter}})],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"n-table--border el-table-header--white",staticStyle:{width:"100%"},attrs:{id:"crm-table","row-height":40,data:e.list,height:e.tableHeight,"use-virtual":"",stripe:"",border:"","highlight-current-row":""},on:{"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"80","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),e._v(" "),e._l(e.fieldList,function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.fieldName,label:t.name,"min-width":t.width,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["employeeName"===t.column.property?[a("span",{staticClass:"can-visit--underline"},[e._v(e._s(e.fieldFormatter(t.row,t.column)))]),1==t.row.isDel?a("span",{staticStyle:{color:"#999"}},[e._v("（已删除）")]):e._e()]:[e._v("\n          "+e._s(e.fieldFormatter(t.row,t.column))+"\n        ")]]}}])})})],2),e._v(" "),a("div",{staticClass:"p-contianer"},[a("el-pagination",{staticClass:"p-bar",attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),e.detailShow?a("employee-confirm-performance",{attrs:{id:e.rowId,"handle-type":"evaluato-view"},on:{close:function(t){e.detailShow=!1}}}):e._e()],1)},[],!1,null,"77a4fe5c",null);b.options.__file="EmployeesView.vue";t.a=b.exports},mYM5:function(e,t,a){"use strict";var i=a("Pqxw");a.n(i).a},nEBa:function(e,t,a){"use strict";var i=a("W7L6");a.n(i).a},nP3g:function(e,t,a){},nboU:function(e,t,a){"use strict";t.a={watch:{loading:function(e){if(e){var t=this.$refs.wkDialog.$refs.dialog;this.loadingInstance=this.$loading({target:t})}else this.loadingInstance&&this.loadingInstance.close()}}}},"o+ce":function(e,t,a){"use strict";var i=a("1aBo");a.n(i).a},oF75:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"e",function(){return s}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return l}),a.d(t,"f",function(){return c}),a.d(t,"h",function(){return d}),a.d(t,"g",function(){return u});var i=a("t3Un");function n(e){return Object(i.a)({url:"hrmRecruitPost/queryById/"+e,method:"post"})}function o(){return Object(i.a)({url:"hrmRecruitPost/queryAllRecruitPostList",method:"post"})}function s(e){return Object(i.a)({url:"hrmRecruitPost/queryPostStatusNum",method:"post"})}function r(e){return Object(i.a)({url:"hrmRecruitPost/queryRecruitPostPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i.a)({url:"hrmRecruitPost/addRecruitPost",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i.a)({url:"hrmRecruitPost/setRecruitPost",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i.a)({url:"hrmRecruitPost/updateRecruitPostStatus",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(){return Object(i.a)({url:"hrmRecruitPostType/queryPostType",method:"post"})}},oxGU:function(e,t,a){},qWEv:function(e,t,a){"use strict";var i=a("C8Jz");a.n(i).a},rDGj:function(e,t,a){},t4O0:function(e,t,a){"use strict";var i=a("VbqV");a.n(i).a},tnKx:function(e,t,a){"use strict";var i=a("iJft");a.n(i).a},tvUL:function(e,t,a){"use strict";var i=a("QbLZ"),n=a.n(i),o=a("StgO"),s=a("Ew9n"),r=a("UzdC"),l=a("j3/X"),c=a("CUKw"),d=a("7Qib"),u={name:"CandidateHandle",components:{},props:{id:[String,Number]},data:function(){return{loading:!1,list:[]}},computed:{},watch:{id:function(e){this.list=[],this.getDetail()}},mounted:function(){this.getDetail()},activated:function(){},deactivated:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(c.a)({type:3,typeId:this.id}).then(function(t){e.loading=!1;var a=t.data||[];a.forEach(function(e){e.content=e.content?JSON.parse(e.content):[]}),e.list=a}).catch(function(){e.loading=!1})},getYMDFormaterTime:function(e){return Object(d.C)(e)},getWeekFormaterTime:function(e){return Object(d.C)(e,"dddd")},getTimeFormaterTime:function(e){return Object(d.C)(e,"H:mm")}}},f=(a("fC9G"),a("KHd+")),m=Object(f.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"rc-cont"},e._l(e.list,function(t,i){return a("flexbox",{key:i,staticClass:"ha-cont",attrs:{align:"stretch",justify:"flex-start"}},[a("div",{staticClass:"ha-week"},[a("div",[e._v(e._s(e.getYMDFormaterTime(t.createTime)))]),e._v(" "),a("div",[e._v(e._s(e.getWeekFormaterTime(t.createTime)))])]),e._v(" "),a("div",{staticClass:"ha-circle"}),e._v(" "),a("div",{staticClass:"ha-time"},[e._v(e._s(e.getTimeFormaterTime(t.createTime)))]),e._v(" "),a("div",{staticClass:"ha-name"},[e._v(e._s(t.realname))]),e._v(" "),a("div",{staticClass:"ha-content"},e._l(t.content,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})),e._v(" "),a("div",{staticClass:"ha-line"})])}))},[],!1,null,"3b227a32",null);m.options.__file="CandidateHandle.vue";var h=m.exports,b=a("KTTK"),p=a("tbm1"),v=a("PwLV"),y=a("FdMb"),g={name:"CandidateFile",components:{WkFileSelect:v.a},props:{id:[String,Number],detail:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,list:[],fieldList:[],tableHeight:"400px",editDialog:!1,editForm:{name:"",data:{}}}},computed:{},watch:{id:function(e){this.list=[],this.getDetail()}},created:function(){var e=this;this.fieldList.push({prop:"name",width:"200",label:"附件名称"}),this.getDetail(),this.debouncedGetDetail=Object(y.a)(300,function(){e.getDetail()})},activated:function(){},deactivated:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(o.f)(this.id).then(function(t){e.loading=!1,e.list=t.data.map(function(e){return e.size=Object(d.h)(e.size),e})}).catch(function(){e.loading=!1})},uploadFile:function(e,t){for(var a=this,i=0;i<e.length;i++){var n=e[i];this.$wkUploadFile.upload({request:p.g,file:n,params:{batchId:this.detail.batchId}}).then(function(e){a.debouncedGetDetail()}).catch(function(){})}t.target.value=""},handleRowClick:function(e,t,a){},showPreviewBtn:function(e){return Object(d.a)(e.row.name)},handleFile:function(e,t){var a=this;"preview"===e?Object(d.a)(t.row.name)?Object(d.G)(t.row.url,t.row.name):this.$wkPreviewFile.preview({index:t.$index,data:this.list}):"delete"===e?this.$confirm("您确定要删除该文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(p.b)(t.row.fileId).then(function(e){a.list.splice(t.$index,1),a.$bus.emit("crm-tab-num-update"),a.$message.success("操作成功")}).catch(function(){})}).catch(function(){a.$message({type:"info",message:"已取消操作"})}):"download"===e?Object(b.l)(t.row.url).then(function(e){var a=new Blob([e.data],{type:""});Object(d.e)(a,t.row.name)}).catch(function(){}):(this.editForm.data=t,this.editForm.name=t.row.name,this.editDialog=!0)},confirmEdit:function(){var e=this;this.editForm.name&&Object(p.f)({fileId:this.editForm.data.row.fileId,name:this.editForm.name}).then(function(t){e.$message.success("编辑成功"),e.editDialog=!1,e.list[e.editForm.data.$index].name=e.editForm.name}).catch(function(){})}}},w=(a("o+ce"),Object(f.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"file-index"},[a("div",{staticClass:"file-index__header"},[e.detail?a("wk-file-select",{staticStyle:{display:"inline-block"},attrs:{multiple:""},on:{change:e.uploadFile}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"}},[e._v("上传材料附件")])],1):e._e()],1),e._v(" "),a("el-table",{attrs:{data:e.list,height:e.tableHeight,stripe:""},on:{"row-click":e.handleRowClick}},[e._l(e.fieldList,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label,"show-overflow-tooltip":""}})}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("flexbox",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){e.handleFile("preview",t)}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){e.handleFile("download",t)}}},[e._v("下载")]),e._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){e.handleFile("edit",t)}}},[e._v("重命名")]),e._v(" "),a("el-button",{staticStyle:{color:"#f94e4e"},attrs:{type:"text"},nativeOn:{click:function(a){e.handleFile("delete",t)}}},[e._v("删除")])],1)]}}])})],2),e._v(" "),a("el-dialog",{attrs:{"append-to-body":!0,"close-on-click-modal":!1,visible:e.editDialog,title:"编辑",width:"400px"},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{attrs:{model:e.editForm}},[a("el-form-item",{attrs:{label:"新名称","label-width":"100"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmEdit}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"03f2c03b",null));w.options.__file="CandidateFile.vue";var _=w.exports,C=a("P5Fn"),D=a("bxH2"),k=a("L2JU"),T={name:"CandidateDetail",components:{SlideView:s.a,WkDetailHeader:r.a,WkBaseDetail:l.a,CandidateHandle:h,CandidateFile:_,CandidateCreateView:C.a},props:{id:[String,Number],listenerIDs:{type:Array,default:function(){return["crm-main-container"]}},noListenerIDs:{type:Array,default:function(){return[]}},noListenerClass:{type:Array,default:function(){return["el-table__body","org-tree-node-label"]}}},data:function(){return{loading:!1,detailData:null,tabCurrentName:"baseInfo",dropdownItems:[{icon:"wk wk-edit",label:"编辑",command:"edit"}],isCreate:!1}},computed:n()({},Object(k.b)(["hrm"]),{manageAuth:function(){return this.hrm.recruit&&this.hrm.recruit.manage},baseList:function(){if(this.detailData){for(var e=[],t=0;t<D.a.fields.length;t++){var a=D.a.fields[t],i={};i.label=a.name,i.value=this.fieldFormatter(this.detailData,a.field),e.push(i)}return e.push({label:"状态",value:this.fieldFormatter(this.detailData,"status")}),[{name:"",list:e}]}return[]}}),watch:{id:function(){this.detailData=null,this.getDetial()}},mounted:function(){},beforeDestroy:function(){},methods:{viewAfterEnter:function(){this.getDetial()},getDetial:function(){var e=this;this.loading=!0,Object(o.d)(this.id).then(function(t){e.detailData=t.data||{},e.loading=!1}).catch(function(){e.loading=!1,e.hideView()})},fieldFormatter:function(e,t){var a=D.a[t+"Value"];return a?a[e[t]]||"--":"postId"==t?(e.postName||"")+(0===e.postStatus?"（已停止招聘）":"")||"--":"channelId"==t?e.channelName||"--":e[t]||"--"},editClick:function(){this.isCreate=!0},editSuccess:function(){this.getDetial(),this.$emit("edit-success")},commandSelect:function(e){},hideView:function(){this.$emit("close")}}},F=(a("kUhV"),Object(f.a)(T,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide-view",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"d-view",attrs:{"listener-ids":e.listenerIDs,"no-listener-ids":e.noListenerIDs,"no-listener-class":e.noListenerClass,"body-style":{padding:0,height:"100%",background:"white"}},on:{afterEnter:e.viewAfterEnter,close:e.hideView}},[e.detailData?a("flexbox",{staticClass:"side-detail-main",staticStyle:{padding:"0 15px"},attrs:{direction:"column",align:"stretch"}},[a("wk-detail-header",{attrs:{"show-edit":e.manageAuth},on:{edit:e.editClick,"command-select":e.commandSelect}},[a("div",{staticClass:"employee-header",attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"employee-header__top"},[a("span",{staticClass:"name"},[e._v(e._s(e.detailData.candidateName))])]),e._v(" "),a("div",{staticClass:"employee-header__bottom"},[1===e.detailData.sex||2===e.detailData.sex?a("el-tag",{staticClass:"xr-sex-tag",class:{1:"is-man",2:"is-woman"}[e.detailData.sex],attrs:{"disable-transitions":"",size:"mini"}},[a("i",{class:{1:"wk wk-man",2:"wk wk-woman"}[e.detailData.sex]})]):e._e(),e._v(" "),a("el-tooltip",{attrs:{content:"学历："+(e.fieldFormatter(e.detailData,"education")||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-cap-outline"}),e._v(e._s(e.fieldFormatter(e.detailData,"education")||"--")+"\n            ")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"工作年限："+(e.detailData.workTime||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-tool-cabinet"}),e._v(e._s(e.detailData.workTime||"--")+"\n            ")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"手机号："+(e.detailData.mobile||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-mobile"}),e._v(e._s(e.detailData.mobile||"--")+"\n            ")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"邮箱："+(e.detailData.email||"--"),effect:"dark",placement:"top"}},[a("el-tag",{staticClass:"xr-tag",attrs:{"disable-transitions":"",color:"#ECEEF2",size:"mini"}},[a("i",{staticClass:"wk wk-icon-email-outline",staticStyle:{"font-size":"14px"}}),e._v(e._s(e.detailData.email||"--")+"\n            ")])],1)],1)])]),e._v(" "),a("el-tabs",{staticClass:"side-detail__tabs--default",staticStyle:{flex:"1"},model:{value:e.tabCurrentName,callback:function(t){e.tabCurrentName=t},expression:"tabCurrentName"}},[a("el-tab-pane",{attrs:{label:"详细资料",name:"baseInfo",lazy:""}},[a("wk-base-detail",{attrs:{list:e.baseList}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"材料附件",name:"file",lazy:""}},[a("candidate-file",{attrs:{id:e.id,detail:e.detailData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"操作记录",name:"handle",lazy:""}},[a("candidate-handle",{attrs:{id:e.id}})],1)],1)],1):e._e(),e._v(" "),e.isCreate?a("candidate-create-view",{attrs:{detail:e.detailData},on:{success:e.getDetial,close:function(t){e.isCreate=!1}}}):e._e()],1)},[],!1,null,"326f5b79",null));F.options.__file="Detail.vue";t.a=F.exports},uqt8:function(e,t,a){},vBho:function(e,t,a){"use strict";var i=a("/alq");a.n(i).a},w9wx:function(e,t,a){"use strict";var i=a("1QPM");a.n(i).a},wRyu:function(e,t,a){},x2xS:function(e,t,a){"use strict";var i=a("OQ7T");a.n(i).a},ygxP:function(e,t,a){"use strict";var i=a("nP3g");a.n(i).a},zEpx:function(e,t,a){"use strict";var i=a("1xWU");a.n(i).a},zMw6:function(e,t,a){"use strict";a.d(t,"j",function(){return n}),a.d(t,"m",function(){return o}),a.d(t,"c",function(){return s}),a.d(t,"i",function(){return r}),a.d(t,"h",function(){return l}),a.d(t,"l",function(){return c}),a.d(t,"k",function(){return d}),a.d(t,"n",function(){return u}),a.d(t,"g",function(){return f}),a.d(t,"f",function(){return m}),a.d(t,"o",function(){return h}),a.d(t,"d",function(){return b}),a.d(t,"e",function(){return p}),a.d(t,"a",function(){return v}),a.d(t,"b",function(){return y}),a.d(t,"u",function(){return g}),a.d(t,"w",function(){return w}),a.d(t,"x",function(){return _}),a.d(t,"v",function(){return C}),a.d(t,"A",function(){return D}),a.d(t,"B",function(){return k}),a.d(t,"y",function(){return T}),a.d(t,"z",function(){return F}),a.d(t,"p",function(){return A}),a.d(t,"q",function(){return x}),a.d(t,"r",function(){return S}),a.d(t,"s",function(){return I}),a.d(t,"t",function(){return E});var i=a("t3Un");function n(e){return Object(i.a)({url:"hrmConfig/queryRecruitChannelList",method:"post",data:e})}function o(e){return Object(i.a)({url:"hrmConfig/saveRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(i.a)({url:"hrmConfig/deleteRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i.a)({url:"hrmConfig/queryFields",method:"post",data:e})}function l(e){return Object(i.a)({url:"hrmConfig/queryFieldByLabel/"+e,method:"post"})}function c(e){return Object(i.a)({url:"hrmConfig/saveField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i.a)({url:"hrmConfig/queryRecruitEliminateList",method:"post",data:e})}function u(e){return Object(i.a)({url:"hrmConfig/saveRecruitEliminate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i.a)({url:"hrmConfig/queryAchievementTableList",method:"post",data:e})}function m(e){return Object(i.a)({url:"hrmConfig/queryAchievementTableById/"+e,method:"post"})}function h(e){return Object(i.a)({url:"hrmConfig/setAchievementTable",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(i.a)({url:"hrmConfig/queryInsuranceSchemePageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(i.a)({url:"hrmConfig/queryInsuranceSchemeById/"+e,method:"post"})}function v(e){return Object(i.a)({url:"hrmConfig/addInsuranceScheme",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(i.a)({url:"hrmConfig/deleteInsuranceScheme/"+e,method:"post"})}function g(e){return Object(i.a)({url:"hrmSalaryGroup/addSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(e){return Object(i.a)({url:"hrmSalaryGroup/querySalaryGroupPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function _(e){return Object(i.a)({url:"hrmSalaryGroup/setSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function C(e){return Object(i.a)({url:"hrmSalaryGroup/delete/"+e,method:"post"})}function D(e){return Object(i.a)({url:"hrmSalaryTaxRule/queryTaxRuleList",method:"post",data:e})}function k(e){return Object(i.a)({url:"hrmSalaryTaxRule/setTaxRule",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function T(e){return Object(i.a)({url:"hrmSalaryOption/querySalaryOptionDetail",method:"post",data:e})}function F(e){return Object(i.a)({url:"hrmSalaryOption/setSalaryOption",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function A(){return Object(i.a)({url:"hrmEmployeeArchives/queryEmployeeArchivesField",method:"post"})}function x(e){return Object(i.a)({url:"hrmEmployeeArchives/sendWriteArchives",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function S(e){return Object(i.a)({url:"hrmEmployeeArchives/setEmployeeArchivesField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function I(e){return Object(i.a)({url:"hrmEmployeeFieldManage/queryEmployeeManageField",method:"post",data:e})}function E(e){return Object(i.a)({url:"hrmEmployeeFieldManage/setEmployeeManageField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},zWD2:function(e,t,a){},zYcO:function(e,t,a){"use strict";var i=a("bODi");a.n(i).a}}]);