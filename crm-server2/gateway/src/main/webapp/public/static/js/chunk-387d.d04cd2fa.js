(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-387d"],{"2bl+":function(e,t,n){"use strict";var i=n("zgqw");n.n(i).a},"5mov":function(e,t,n){"use strict";var i=n("Qeom");n.n(i).a},"8EsW":function(e,t,n){},"9GgJ":function(e,t,n){"use strict";var i={name:"XrHeader",components:{},props:{iconClass:[String,Array],iconColor:String,label:String,showSearch:{type:Boolean,default:!1},searchIconType:{type:String,default:"text"},placeholder:{type:String,default:"请输入内容"},ftTop:{type:String,default:"15px"},content:[String,Number],inputAttr:{type:Object,default:function(){}}},data:function(){return{search:""}},computed:{},watch:{content:{handler:function(){this.search!=this.content&&(this.search=this.content)},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{inputChange:function(){this.$emit("update:content",this.search)},searchClick:function(){this.$emit("search",this.search)}}},a=(n("zIzm"),n("KHd+")),s=Object(a.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("flexbox",{staticClass:"xr-header"},[e.iconClass?n("div",{staticClass:"xr-header__icon",style:{backgroundColor:e.iconColor}},[n("i",{class:e.iconClass})]):e._e(),e._v(" "),n("div",{staticClass:"xr-header__label"},[e.$slots.label?e._t("label"):[e._v(e._s(e.label))]],2),e._v(" "),e.showSearch?n("el-input",e._b({staticClass:"xr-header__search",class:{"is-text":"text"===e.searchIconType},style:{"margin-top":e.ftTop},attrs:{placeholder:e.placeholder},on:{input:e.inputChange},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchClick(t):null}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},"el-input",e.inputAttr,!1),["text"===e.searchIconType?n("el-button",{attrs:{slot:"append",type:"primary"},nativeOn:{click:function(t){return e.searchClick(t)}},slot:"append"},[e._v("搜索")]):n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(t){return e.searchClick(t)}},slot:"append"})],1):e._e(),e._v(" "),n("div",{staticClass:"xr-header__ft",style:{top:e.ftTop}},[e._t("ft")],2)],1)},[],!1,null,"7bba770c",null);s.options.__file="index.vue";t.a=s.exports},NM5i:function(e,t,n){"use strict";var i=n("onHE");n.n(i).a},Qeom:function(e,t,n){},Xtml:function(e,t,n){},d3kY:function(e,t,n){"use strict";var i=n("Xtml");n.n(i).a},eiis:function(e,t,n){"use strict";var i=n("8EsW");n.n(i).a},ekz5:function(e,t,n){"use strict";n.r(t);var i=n("zMw6"),a={name:"EmployeeArchivesSet",components:{WkDepUserViewDialog:n("LGWg").a},mixins:[],data:function(){return{loading:!1,tableHeight:document.documentElement.clientHeight-196,list:[],baseList:[],baseObj:{name:"基本信息",isSection:!0,labelGroup:1,isEmployeeVisible:1,isEmployeeUpdate:1,visibleIndeterminate:!1,updateIndeterminate:!1},communicationList:[],communicationObj:{name:"通讯信息",labelGroup:2,isSection:!0,isEmployeeVisible:1,isEmployeeUpdate:1,indeterminate:!1,updateIndeterminate:!1},depUserViewDialogShow:!1}},computed:{},mounted:function(){var e=this;window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-196},this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(i.p)().then(function(t){var n=[],i=[];(t.data||[]).forEach(function(e){1===e.labelGroup?n.push(e):2===e.labelGroup&&i.push(e)}),e.communicationList=i,e.baseList=n;var a=[e.baseObj];n.forEach(function(e){a.push(e)}),a.push(e.communicationObj),i.forEach(function(e){a.push(e)}),e.list=a,e.changeAllStatus(),e.loading=!1}).catch(function(){e.loading=!1})},changeAllStatus:function(){var e=this.changeStatus("isEmployeeVisible",this.baseList);this.baseObj.visibleIndeterminate=e.indeterminate,this.baseObj.isEmployeeVisible=e.check?1:0;var t=this.changeStatus("isEmployeeUpdate",this.baseList);this.baseObj.updateIndeterminate=t.indeterminate,this.baseObj.isEmployeeUpdate=t.check?1:0;var n=this.changeStatus("isEmployeeVisible",this.communicationList);this.communicationObj.visibleIndeterminate=n.indeterminate,this.communicationObj.isEmployeeVisible=n.check?1:0;var i=this.changeStatus("isEmployeeUpdate",this.communicationList);this.communicationObj.updateIndeterminate=i.indeterminate,this.communicationObj.isEmployeeUpdate=i.check?1:0},changeStatus:function(e,t){var n=0,i=0;return t.forEach(function(t){var a=t[e];2!==a&&(1===a?++n:++i)}),{check:0===i,indeterminate:n>0&&i>0}},sendClick:function(){this.depUserViewDialogShow=!0},selectUserChange:function(e,t){var n=this;e.length>0||t.length>0?(this.loading=!0,Object(i.q)({deptIds:t.map(function(e){return e.deptId}),userIds:e.map(function(e){return e.userId})}).then(function(e){n.$message.success("操作成功"),n.loading=!1}).catch(function(){n.loading=!1})):this.$message.error("请选择")},visibleChange:function(e){if(e.isSection){var t=1===e.labelGroup?this.baseList:this.communicationList,n=1===e.isEmployeeVisible;t.forEach(function(t){2!==t.isEmployeeVisible&&(t.isEmployeeVisible=e.isEmployeeVisible,2!==t.isEmployeeUpdate&&(n||(t.isEmployeeUpdate=0)))})}else 0===e.isEmployeeVisible&&2!==e.isEmployeeUpdate&&(e.isEmployeeUpdate=0);this.changeAllStatus()},updateChange:function(e){if(e.isSection){var t=1===e.labelGroup?this.baseList:this.communicationList,n=1===e.isEmployeeUpdate;t.forEach(function(t){2!==t.isEmployeeUpdate&&(t.isEmployeeUpdate=e.isEmployeeUpdate,n&&(t.isEmployeeVisible=1))})}else 1===e.isEmployeeUpdate&&(e.isEmployeeVisible=1);this.changeAllStatus()},saveClick:function(){var e=this;this.loading=!0,Object(i.r)(this.baseList.concat(this.communicationList)).then(function(t){e.$message.success("操作成功"),e.getList(),e.loading=!1}).catch(function(){e.loading=!1})}}},s=(n("2bl+"),n("KHd+")),o=Object(s.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-body"},[n("div",{staticClass:"main-table-header"},[n("span",{staticClass:"main-table-header-button"},[n("el-button",{staticClass:"xr-btn--orange",attrs:{type:"primary"},on:{click:e.sendClick}},[e._v("邀请员工填写档案")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.saveClick}},[e._v("保存")])],1)]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-table",staticStyle:{width:"100%"},attrs:{data:e.list,height:e.tableHeight,"highlight-current-row":""}},[n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",width:"150",label:"信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isSection?n("span",{staticClass:"mark"}):e._e(),e._v(e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"isEmployeeVisible",label:"员工是否可见"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{"true-label":1,"false-label":0,indeterminate:t.row.visibleIndeterminate},on:{change:function(n){e.visibleChange(t.row)}},model:{value:t.row.isEmployeeVisible,callback:function(n){e.$set(t.row,"isEmployeeVisible",n)},expression:"scope.row.isEmployeeVisible"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"isEmployeeUpdate",label:"员工是否可编辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:2===t.row.isEmployeeUpdate,indeterminate:t.row.updateIndeterminate},on:{change:function(n){e.updateChange(t.row)}},model:{value:t.row.isEmployeeUpdate,callback:function(n){e.$set(t.row,"isEmployeeUpdate",n)},expression:"scope.row.isEmployeeUpdate"}})]}}])})],1),e._v(" "),e.depUserViewDialogShow?n("wk-dep-user-view-dialog",{attrs:{visible:e.depUserViewDialogShow,"close-on-empty-value":""},on:{"update:visible":function(t){e.depUserViewDialogShow=t},change:e.selectUserChange}}):e._e()],1)},[],!1,null,"ebbfeb3a",null);o.options.__file="EmployeeArchives.vue";var r=o.exports,l=n("m1cH"),c=n.n(l),u={name:"EmployeeFieldsSet",components:{},mixins:[],props:{entryStatus:[Number,String]},data:function(){return{loading:!1,tableHeight:document.documentElement.clientHeight-260,labelTab:"1",tabList:[{name:"1",label:"个人信息"},{name:"2",label:"岗位信息"}],tabListObj:{}}},computed:{title:function(){return 1==this.entryStatus?"新建在职员工":2==this.entryStatus?"新建待入职员工":""}},mounted:function(){var e=this;window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-260},this.getList()},methods:{tabsClick:function(){this.getList()},getList:function(){var e=this;this.tabListObj[this.labelTab]||(this.loading=!0,Object(i.s)({entryStatus:this.entryStatus,label:this.labelTab}).then(function(t){e.$set(e.tabListObj,e.labelTab,t.data||[]),e.loading=!1}).catch(function(){e.loading=!1}))},saveClick:function(){var e=this;this.loading=!0;var t=[];for(var n in this.tabListObj){var a=this.tabListObj[n];a&&a.length>0&&(t=[].concat(c()(t),c()(a)))}Object(i.t)(t).then(function(t){e.$message.success("操作成功"),e.tabListObj={},e.getList(),e.loading=!1}).catch(function(){e.loading=!1})},backClick:function(){var e=this.$route.query.redirect;e?this.$router.push(e):this.$emit("back")}}},d=(n("NM5i"),n("d3kY"),Object(s.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-body"},[n("flexbox",{staticClass:"main-table-header"},[n("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),n("el-button",{on:{click:e.backClick}},[e._v("返回")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.saveClick}},[e._v("保存")])],1),e._v(" "),n("el-tabs",{staticClass:"el-fields-tabs",on:{"tab-click":e.tabsClick},model:{value:e.labelTab,callback:function(t){e.labelTab=t},expression:"labelTab"}},e._l(e.tabList,function(t,i){return n("el-tab-pane",{key:i,attrs:{label:t.label,name:t.name,lazy:""}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-table",staticStyle:{width:"100%"},attrs:{data:e.tabListObj[e.labelTab]||[],height:e.tableHeight,"highlight-current-row":""}},[n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",width:"150",label:"信息"}}),e._v(" "),n("el-table-column",{attrs:{prop:"isManageVisible",label:"员工是否可见"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[2===i.isManageVisible||3===i.isManageVisible?n("el-checkbox",{attrs:{"true-label":3,"false-label":2,disabled:""},model:{value:i.isManageVisible,callback:function(t){e.$set(i,"isManageVisible",t)},expression:"row.isManageVisible"}}):n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:i.isManageVisible,callback:function(t){e.$set(i,"isManageVisible",t)},expression:"row.isManageVisible"}})]}}])})],1)],1)}))],1)},[],!1,null,"d1b4bf04",null));d.options.__file="EmployeeFieldsSet.vue";var h={name:"EmployeeFields",components:{EmployeeFieldsSet:d.exports},data:function(){return{loading:!1,list:[],isSet:!1,entryStatus:1}},computed:{},created:function(){var e=this.$route.query.entryStatus;e&&this.enterSet(e)},methods:{enterSet:function(e){this.entryStatus=e,this.isSet=!0},backMain:function(){this.isSet=!1}}},p=(n("rc7Y"),n("eiis"),Object(s.a)(h,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSet?n("employee-fields-set",{attrs:{"entry-status":e.entryStatus},on:{back:e.backMain}}):n("div",[n("div",{staticClass:"content-title"},[n("span",[e._v("新建员工字段设置")])]),e._v(" "),n("div",{staticClass:"content-body"},[n("el-card",{staticClass:"el-title-card",nativeOn:{click:function(t){e.enterSet(1)}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[e._v("新建在职员工")])]),e._v(" "),n("div",[e._v("\n        设置【新建在职员工】时可填写的员工信息字段\n      ")])]),e._v(" "),n("el-card",{staticClass:"el-title-card",nativeOn:{click:function(t){e.enterSet(2)}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[e._v("新建待入职员工")])]),e._v(" "),n("div",[e._v("\n        设置【新建待入职员工】时可填写的员工信息字段\n      ")])])],1)])},[],!1,null,"0061ccbd",null));p.options.__file="EmployeeFields.vue";var m={name:"EmployeeManage",components:{EmployeeArchives:r,EmployeeFields:p.exports,XrHeader:n("9GgJ").a},data:function(){return{menuList:[{label:"新建员工字段设置",key:"EmployeeFields"},{label:"员工档案设置",key:"EmployeeArchives"}],menuIndex:"EmployeeFields"}},computed:{},created:function(){var e=this.$route.query.menuIndex;e&&(this.menuIndex=e)},methods:{menuSelect:function(e){this.menuIndex=e}}},b=(n("5mov"),Object(s.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"system-customer"},[n("xr-header",{attrs:{"icon-class":"wk wk-double-gear","icon-color":"#1CBAF5",label:"员工管理设置"}}),e._v(" "),n("div",{staticClass:"customer-content"},[n("div",{staticClass:"system-view-nav"},e._l(e.menuList,function(t,i){return n("div",{key:i,staticClass:"menu-item",class:{"is-select":t.key==e.menuIndex},on:{click:function(n){e.menuSelect(t.key)}}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),e._v(" "),n("keep-alive",[n(e.menuIndex,{tag:"component",staticClass:"system-view-content"})],1)],1)],1)},[],!1,null,"fc4b3b20",null));b.options.__file="index.vue";t.default=b.exports},ihDC:function(e,t,n){},onHE:function(e,t,n){e.exports={xrColorPrimary:"#2362FB"}},rc7Y:function(e,t,n){"use strict";var i=n("zDGS");n.n(i).a},zDGS:function(e,t,n){e.exports={xrColorPrimary:"#2362FB"}},zIzm:function(e,t,n){"use strict";var i=n("ihDC");n.n(i).a},zMw6:function(e,t,n){"use strict";n.d(t,"j",function(){return a}),n.d(t,"m",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"i",function(){return r}),n.d(t,"h",function(){return l}),n.d(t,"l",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"n",function(){return d}),n.d(t,"g",function(){return h}),n.d(t,"f",function(){return p}),n.d(t,"o",function(){return m}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return f}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"u",function(){return g}),n.d(t,"w",function(){return C}),n.d(t,"x",function(){return E}),n.d(t,"v",function(){return _}),n.d(t,"A",function(){return S}),n.d(t,"B",function(){return j}),n.d(t,"y",function(){return k}),n.d(t,"z",function(){return O}),n.d(t,"p",function(){return w}),n.d(t,"q",function(){return x}),n.d(t,"r",function(){return T}),n.d(t,"s",function(){return U}),n.d(t,"t",function(){return L});var i=n("t3Un");function a(e){return Object(i.a)({url:"hrmConfig/queryRecruitChannelList",method:"post",data:e})}function s(e){return Object(i.a)({url:"hrmConfig/saveRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i.a)({url:"hrmConfig/deleteRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i.a)({url:"hrmConfig/queryFields",method:"post",data:e})}function l(e){return Object(i.a)({url:"hrmConfig/queryFieldByLabel/"+e,method:"post"})}function c(e){return Object(i.a)({url:"hrmConfig/saveField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i.a)({url:"hrmConfig/queryRecruitEliminateList",method:"post",data:e})}function d(e){return Object(i.a)({url:"hrmConfig/saveRecruitEliminate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i.a)({url:"hrmConfig/queryAchievementTableList",method:"post",data:e})}function p(e){return Object(i.a)({url:"hrmConfig/queryAchievementTableById/"+e,method:"post"})}function m(e){return Object(i.a)({url:"hrmConfig/setAchievementTable",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(i.a)({url:"hrmConfig/queryInsuranceSchemePageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i.a)({url:"hrmConfig/queryInsuranceSchemeById/"+e,method:"post"})}function y(e){return Object(i.a)({url:"hrmConfig/addInsuranceScheme",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(i.a)({url:"hrmConfig/deleteInsuranceScheme/"+e,method:"post"})}function g(e){return Object(i.a)({url:"hrmSalaryGroup/addSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function C(e){return Object(i.a)({url:"hrmSalaryGroup/querySalaryGroupPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function E(e){return Object(i.a)({url:"hrmSalaryGroup/setSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function _(e){return Object(i.a)({url:"hrmSalaryGroup/delete/"+e,method:"post"})}function S(e){return Object(i.a)({url:"hrmSalaryTaxRule/queryTaxRuleList",method:"post",data:e})}function j(e){return Object(i.a)({url:"hrmSalaryTaxRule/setTaxRule",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(e){return Object(i.a)({url:"hrmSalaryOption/querySalaryOptionDetail",method:"post",data:e})}function O(e){return Object(i.a)({url:"hrmSalaryOption/setSalaryOption",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(){return Object(i.a)({url:"hrmEmployeeArchives/queryEmployeeArchivesField",method:"post"})}function x(e){return Object(i.a)({url:"hrmEmployeeArchives/sendWriteArchives",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function T(e){return Object(i.a)({url:"hrmEmployeeArchives/setEmployeeArchivesField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function U(e){return Object(i.a)({url:"hrmEmployeeFieldManage/queryEmployeeManageField",method:"post",data:e})}function L(e){return Object(i.a)({url:"hrmEmployeeFieldManage/setEmployeeManageField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},zgqw:function(e,t,n){}}]);