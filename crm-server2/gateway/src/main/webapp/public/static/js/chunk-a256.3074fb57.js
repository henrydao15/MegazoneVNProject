(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a256"],{"/Ndp":function(t,e,n){"use strict";var a=n("L3kB");n.n(a).a},"5aZV":function(t,e,n){"use strict";n.r(e);var a=n("TqqB"),r=n("IzaY"),i=n("9GgJ"),o=n("k8yf"),c=n("7Qib"),s=n("a/5N"),l=n("IdJD"),u={name:"MyInsuranceSchemeDetail",components:{},props:{visible:{type:Boolean,default:!1},title:String,id:[Number,String]},data:function(){return{loading:!1,fieldList:[{prop:"customerName",width:"200",label:"缴纳项目"},{prop:"customerName",width:"200",label:"个人缴纳"},{prop:"customerName",width:"200",label:"企业缴纳"},{prop:"customerName",width:"200",label:"合计缴纳"}],moneyData:null,moneyList:[]}},computed:{moneyTableFields:function(){var t=[{label:"缴纳项目",prop:"type"},{label:"缴纳基数",prop:"defaultAmount"}];return this.moneyData&&1==this.moneyData.schemeType&&(t=t.concat([{label:"企业比例",prop:"corporateProportion"},{label:"个人比例",prop:"personalProportion"}])),t.concat([{label:"个人缴纳",prop:"personalAmount"},{label:"企业缴纳",prop:"corporateAmount"},{label:"合计缴费",prop:"allAmount"}])}},watch:{},created:function(){this.getDetail()},mounted:function(){},beforeDestroy:function(){},methods:{getDetail:function(){var t=this;this.loading=!0,Object(a.d)(this.id).then(function(e){t.loading=!1;var n=e.data||{};t.moneyData=n;var a=n.socialSecurityList.concat(n.providentFundList);a.forEach(function(t){t.allAmount=Object(c.i)(t.personalAmount,t.corporateAmount)}),t.moneyList=a}).catch(function(){t.loading=!1})},getSummaries:function(t){var e=t.columns,n=t.data,a=[];return e.forEach(function(t,e){if(0!==e)if(!["personalProportion","corporateProportion","defaultAmount"].includes(t.property)&&t.property){var r=n.map(function(e){return Number(e[t.property])});r.every(function(t){return isNaN(t)})?a[e]="N/A":a[e]=r.reduce(function(t,e){var n=Number(e);return isNaN(n)?t:Object(c.i)(t,e)},0)}else a[e]="";else a[e]="缴费总价"}),a},fieldFormatter:function(t,e){var n=t[e.property];return"type"==e.property?n<9?l.a.providentFundTypeValue[n]:9==n||11==n?t.projectName:l.a.socialSecurityTypeValue[n]:Object(s.b)(n)?"--":n},handleClose:function(){this.$emit("update:visible",!1)}}},d=(n("/Ndp"),n("KHd+")),p=Object(d.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.visible,"before-close":t.handleClose,title:t.title,width:"50%"}},[n("el-table",{attrs:{data:t.moneyList,"summary-method":t.getSummaries,"show-summary":"",height:"400",align:"center"}},t._l(t.moneyTableFields,function(e,a){return n("el-table-column",{key:a,attrs:{prop:e.prop,label:e.label,formatter:t.fieldFormatter}})}))],1)},[],!1,null,"17162834",null);p.options.__file="Detail.vue";var h=p.exports,f={name:"MyInsuranceSchemeIndex",components:{XrHeader:i.a,StatisticsCard:o.a,MyInsuranceSchemeDetail:h},data:function(){var t=this;return{loading:!1,initStatusConfig:null,initDataConfig:null,year:"",pickerOptions:{disabledDate:function(e){return!t.initDataConfig||!t.initDataConfig.year||e.getFullYear()<t.initDataConfig.year}},list:[],fieldList:[{label:"个人社保",prop:"personalInsuranceAmount"},{label:"公司社保",prop:"corporateInsuranceAmount"},{label:"个人公积金",prop:"personalProvidentFundAmount"},{label:"公司公积金",prop:"corporateProvidentFundAmount"}],newYear:"",rowDetail:null,detailVisible:!1}},computed:{},watch:{},created:function(){this.getConfigList()},mounted:function(){},methods:{getConfigList:function(){var t=this;this.loading=!0,Object(r.b)().then(function(e){var n=e.data.statusInitConfig,a=1==n[4],r=1==n[5];if(t.initStatusConfig={firstConfig:a,secondConfig:r},t.initDataConfig=e.data.otherInitConfig,a)if(r){var i=t.initDataConfig.socialSecurityStartMonth?t.initDataConfig.socialSecurityStartMonth.split("-")[0]:(new Date).getFullYear().toString(),o=t.initDataConfig.lastSocialSecurityYear?t.initDataConfig.lastSocialSecurityYear.toString():i;t.year=o.toString(),t.newYear=t.year,t.initDataConfig.year=i,t.getList()}else;else;t.loading=!1}).catch(function(){t.loading=!1})},getList:function(){var t=this;this.loading=!0,Object(a.c)({pageType:0,year:this.year}).then(function(e){t.list=e.data.list||[],t.loading=!1}).catch(function(){t.loading=!1})},detailCheckClick:function(t){this.rowDetail=t,this.detailVisible=!0}}},m=(n("Ov/E"),Object(d.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wrapper"},[n("xr-header",{staticStyle:{padding:"0px 15px 15px 0"},attrs:{"icon-class":"wk wk-social","icon-color":"#2362FB","ft-top":"0",label:"社保管理"}},[n("template",{slot:"ft"},[n("el-date-picker",{staticStyle:{width:"100px","margin-right":"15px"},attrs:{"picker-options":t.pickerOptions,clearable:!1,type:"year",format:"yyyy","value-format":"yyyy",placeholder:"选择日期"},on:{change:t.getList},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],2),t._v(" "),n("div",{directives:[{name:"empty",rawName:"v-empty",value:!t.list||0==t.list.length,expression:"!list || list.length == 0"}],staticClass:"wrapper-main"},t._l(t.list,function(e,a){return n("statistics-card",{key:a,attrs:{"delete-button-show":!1,title:e.month+"月社保表",data:e,"field-list":t.fieldList,"button-show":""},on:{"detail-click":t.detailCheckClick}})})),t._v(" "),t.detailVisible?n("my-insurance-scheme-detail",{attrs:{id:t.rowDetail.iempRecordId,title:t.rowDetail.month+"月社保表",visible:t.detailVisible},on:{"update:visible":function(e){t.detailVisible=e}}}):t._e()],1)},[],!1,null,"8abc31e6",null));m.options.__file="index.vue";e.default=m.exports},"6IYF":function(t,e,n){},"9GgJ":function(t,e,n){"use strict";var a={name:"XrHeader",components:{},props:{iconClass:[String,Array],iconColor:String,label:String,showSearch:{type:Boolean,default:!1},searchIconType:{type:String,default:"text"},placeholder:{type:String,default:"请输入内容"},ftTop:{type:String,default:"15px"},content:[String,Number],inputAttr:{type:Object,default:function(){}}},data:function(){return{search:""}},computed:{},watch:{content:{handler:function(){this.search!=this.content&&(this.search=this.content)},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{inputChange:function(){this.$emit("update:content",this.search)},searchClick:function(){this.$emit("search",this.search)}}},r=(n("zIzm"),n("KHd+")),i=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("flexbox",{staticClass:"xr-header"},[t.iconClass?n("div",{staticClass:"xr-header__icon",style:{backgroundColor:t.iconColor}},[n("i",{class:t.iconClass})]):t._e(),t._v(" "),n("div",{staticClass:"xr-header__label"},[t.$slots.label?t._t("label"):[t._v(t._s(t.label))]],2),t._v(" "),t.showSearch?n("el-input",t._b({staticClass:"xr-header__search",class:{"is-text":"text"===t.searchIconType},style:{"margin-top":t.ftTop},attrs:{placeholder:t.placeholder},on:{input:t.inputChange},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchClick(e):null}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},"el-input",t.inputAttr,!1),["text"===t.searchIconType?n("el-button",{attrs:{slot:"append",type:"primary"},nativeOn:{click:function(e){return t.searchClick(e)}},slot:"append"},[t._v("搜索")]):n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(e){return t.searchClick(e)}},slot:"append"})],1):t._e(),t._v(" "),n("div",{staticClass:"xr-header__ft",style:{top:t.ftTop}},[t._t("ft")],2)],1)},[],!1,null,"7bba770c",null);i.options.__file="index.vue";e.a=i.exports},IdJD:function(t,e,n){"use strict";var a=n("GQeE"),r=n.n(a);e.a={providentFundTypeValue:{1:"养老保险",2:"医疗保险",3:"失业保险",4:"工伤保险",5:"生育保险",6:"补充大病医疗保险",7:"补充养老保险",8:"残保险"},socialSecurityTypeValue:{10:"公积金"},getValueList:function(t){return r()(t).map(function(e){return{label:t[e],value:parseInt(e)}})}}},IzaY:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return s});var a=n("t3Un");function r(){return Object(a.a)({url:"hrmSalaryConfig/queryInItConfig",method:"post"})}function i(t){return Object(a.a)({url:"hrmSalaryConfig/saveInitConfig",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(t){return Object(a.a)({url:"/hrmSalaryConfig/updateInitStatus/"+t,method:"post"})}function c(){return Object(a.a)({url:"/hrmSalaryConfig/querySalaryConfig",method:"post"})}function s(t){return Object(a.a)({url:"hrmSalaryConfig/updateSalaryConfig",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"KXn+":function(t,e,n){"use strict";var a=n("qRye");n.n(a).a},L3kB:function(t,e,n){},"Ov/E":function(t,e,n){"use strict";var a=n("6IYF");n.n(a).a},TqqB:function(t,e,n){"use strict";n.d(e,"k",function(){return r}),n.d(e,"m",function(){return i}),n.d(e,"i",function(){return o}),n.d(e,"l",function(){return c}),n.d(e,"g",function(){return s}),n.d(e,"e",function(){return l}),n.d(e,"h",function(){return u}),n.d(e,"a",function(){return d}),n.d(e,"b",function(){return p}),n.d(e,"f",function(){return h}),n.d(e,"j",function(){return f}),n.d(e,"n",function(){return m}),n.d(e,"o",function(){return y}),n.d(e,"d",function(){return b}),n.d(e,"c",function(){return v});var a=n("t3Un");function r(t){return Object(a.a)({url:"hrmInsuranceMonthRecord/queryInsuranceRecordList",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function i(t){return Object(a.a)({url:"hrmInsuranceMonthRecord/queryInsurancePageList",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(){return Object(a.a)({url:"hrmInsuranceMonthRecord/computeInsuranceData",method:"post"})}function c(t){return Object(a.a)({url:"hrmInsuranceMonthRecord/queryInsuranceRecordList/"+t,method:"post"})}function s(t){return Object(a.a)({url:"hrmInsuranceMonthEmpRecord/stop",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(t){return Object(a.a)({url:"hrmInsuranceMonthEmpRecord/queryById/"+t,method:"post"})}function u(t){return Object(a.a)({url:"hrmInsuranceMonthEmpRecord/updateInsuranceProject",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(t){return Object(a.a)({url:"hrmInsuranceMonthEmpRecord/addInsuranceEmp",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(t){return Object(a.a)({url:"hrmInsuranceMonthEmpRecord/batchUpdateInsuranceProject",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(t){return Object(a.a)({url:"hrmInsuranceMonthEmpRecord/queryNoInsuranceEmp/"+t.irecordId,method:"post"})}function f(t){return Object(a.a)({url:"hrmInsuranceMonthRecord/deleteInsurance/"+t,method:"post"})}function m(t){return Object(a.a)({url:"hrmInsuranceScheme/queryInsuranceScale",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(t){return Object(a.a)({url:"hrmInsuranceScheme/queryInsuranceType",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(t){return Object(a.a)({url:"hrmInsuranceMonthEmpRecord/myInsuranceDetail/"+t,method:"post"})}function v(t){return Object(a.a)({url:"hrmInsuranceMonthEmpRecord/myInsurance",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},ihDC:function(t,e,n){},k8yf:function(t,e,n){"use strict";var a={name:"StatisticsCard",components:{},props:{titleShow:{type:Boolean,default:!0},iconShow:{type:Boolean,default:!0},buttonShow:{type:Boolean,default:!0},deleteButtonShow:{type:Boolean,default:!1},title:String,data:Object,fieldList:Array},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{detailClick:function(){this.$emit("detail-click",this.data)},deleteClick:function(){this.$emit("delete-click",this.data)},itemClick:function(t,e){e.visit&&this.$emit("select",t,e,this.data)}}},r=(n("KXn+"),n("KHd+")),i=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"statistics-card"},[n("flexbox",[t.titleShow?n("div",{staticClass:"card-item is-first"},[t.iconShow?n("i",{staticClass:"wk wk-results-solid card-item__icon"}):t._e(),t._v(" "),n("span",{staticClass:"card-item__title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t._l(t.fieldList,function(e,a){return n("div",{key:a,staticClass:"card-item"},[n("div",{staticClass:"card-item__label"},[t._v(t._s(e.label))]),t._v(" "),n("div",{staticClass:"card-item__value",class:{"can-visit--underline":e.visit},on:{click:function(n){t.itemClick(a,e)}}},[t._v(t._s(""===t.data[e.prop]||null===t.data[e.prop]?"--":t.data[e.prop]))])])}),t._v(" "),t.buttonShow?n("div",{staticClass:"card-item"},[t.$slots.handle?t._t("handle"):n("el-button",{attrs:{type:"text"},on:{click:function(e){t.detailClick(t.data)}}},[t._v("查看详情")]),t._v(" "),t.deleteButtonShow?n("el-button",{staticClass:"xr-text-btn delete",attrs:{type:"text"},on:{click:function(e){t.deleteClick(t.data)}}},[t._v("删除")]):t._e()],2):t._e()],2)],1)},[],!1,null,"18ba9b98",null);i.options.__file="StatisticsCard.vue";e.a=i.exports},qRye:function(t,e,n){},zIzm:function(t,e,n){"use strict";var a=n("ihDC");n.n(a).a}}]);